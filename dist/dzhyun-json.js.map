{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 388c29bfd1d9f3212229","webpack:///./~/dzhyun-connection/lib/BaseConnection.js","webpack:///./~/dzhyun-connection/lib/util.js","webpack:///./~/dzhyun-dataparser/lib/util.js","webpack:///./src/util.js","webpack:///./~/dzhyun-connection/lib/index.js","webpack:///./~/dzhyun-dataparser/lib/DzhyunDataParser.js","webpack:///./src/Dzhyun.js","webpack:///./~/dzhyun-connection/lib/HttpConnection.js","webpack:///./~/dzhyun-connection/lib/WebSocket.js","webpack:///./~/dzhyun-connection/lib/WebSocketConnection.js","webpack:///./~/dzhyun-connection/lib/XMLHttpRequest.js","webpack:///./~/dzhyun-connection/lib/ajax.js","webpack:///./~/dzhyun-dataparser/lib/parseJSON.js","webpack:///./~/dzhyun-dataparser/lib/snappyjs-uncompress.js","webpack:///./~/dzhyun-connection/lib/wxadapter/WebSocket.js","webpack:///./~/dzhyun-connection/lib/wxadapter/XmlHttpRequst.js","webpack:///./~/dzhyun-dataparser/lib/parseProtoBuf.js","webpack:///./~/snappyjs/snappy_decompressor.js","webpack:///ws (ignored)","webpack:///xhr2 (ignored)"],"names":["unParam","searchStr","indexOf","substring","split","reduce","result","pair","arr","decodeURIComponent","slice","join","formatParams","params","Object","keys","forEach","key","value","Array","lastQid","getQid","EventEmiter","_listenerMap","type","listener","listeners","push","index","splice","args","apply","on","bind","off","trigger","Request","options","assign","subscribe","queryObject","sub","alias","onmessage","callback","onerror","Promise","resolve","reject","then","catch","Dzhyun","address","dataType","compresser","dataParser","token","generateQid","secure","ping","pingInterval","reconnect","reconnectInterval","DzhyunDataParser","_requests","_resetReconnectCount","getToken","_conn","_tokenPromise","console","warn","err","lastTime","connection","DzhyunConnection","deferred","open","Date","now","setTimeout","getStatus","request","message","response","data","parse","call","Qid","Err","Counter","Data","debug","desc","code","error","Error","resultData","shrinkData","filter","sort","key1","close","_reconnect","connectionType","_protocol","_address","_connectionType","_reconnectCount","_reconnectTid","clearTimeout","requests","start","url","immediate","serviceUrl","undefined","output","qid","cancel","_connection","conn","requestParams","query","_cancelRequest","eachQid","Connection","DataParser","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;AACA;AACA,CAAC;;AAED,kCAAkC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAErpB,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,4DAA4D;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;AChMA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,2KAA2K;AAC3K,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC/BA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,C;;;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;QAEgBA,O,GAAAA,O;AAAT,SAASA,OAAT,CAAiBC,SAAjB,EAA4B;AACjC,SAAO,CAACA,UAAUC,OAAV,CAAkB,GAAlB,MAA2B,CAA3B,GAA+BD,UAAUE,SAAV,CAAoB,CAApB,CAA/B,GAAwDF,SAAzD,EAAoEG,KAApE,CAA0E,GAA1E,EAA+EC,MAA/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yD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0C;;;;;;;AC1IA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAED;AACA;AACA,C;;;;;;;AC1BA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H,GAAG;;;AAG7Q;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,eAAe;AAChD;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,qDAAqD,2GAA2G,0EAA0E,4DAA4D;AAC5V,SAAS;AACT;AACA;;AAEA,kEAAkE;AAClE,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,eAAe;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C,IAAI;AAC/C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,6BAA6B;AAC5C;;AAEA;AACA;AACA,eAAe,2EAA2E;AAC1F;;AAEA;AACA,eAAe,+CAA+C;AAC9D,E;;;;;;;AClVA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;ACnDA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACzBA,sB;;;;;;ACAA,sB;;;;;;ACAA,sB;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnIA,e;;;;;;ACAA,e","file":"dzhyun-json.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dzhyun\"] = factory();\n\telse\n\t\troot[\"Dzhyun\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 388c29bfd1d9f3212229","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Object.assign polyfill\nif (typeof Object.assign !== 'function') {\n  Object.assign = function assign(target) {\n    // .length of function is 2\n    if (target == null) {\n      // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 0; index < (arguments.length <= 1 ? 0 : arguments.length - 1); index += 1) {\n      var nextSource = arguments.length <= index + 1 ? undefined : arguments[index + 1];\n\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // eslint-disable-line no-restricted-syntax\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\n\n/**\n * connection基类\n */\n\nvar BaseConnection = function () {\n\n  /**\n   * 构造方法\n   * @param {!string} address 连接地址\n   * @param {!object} options 设置参数\n   * @param {object=} handler 事件处理对象\n   * @param {boolean=} secure 是否使用ssl(https 或者 wss)，默认根据页面url自动判断\n   */\n  function BaseConnection(address, options, handler, secure) {\n    _classCallCheck(this, BaseConnection);\n\n    if (typeof address !== 'string') {\n      throw new Error('address is incorrect');\n    }\n    if (this.constructor === BaseConnection) {\n      // eslint-disable-next-line no-use-before-define\n      return getInstance(address, options, handler, secure);\n    }\n    this._address = address;\n    this.options = options || {};\n\n    if (typeof handler === 'boolean') {\n      this._secure = handler;\n      this._handler = null;\n    } else {\n      this._secure = secure || false;\n      this._handler = handler;\n    }\n\n    // 默认协议\n    this._protocol = 'http';\n\n    this._listenerMap = {};\n  }\n\n  _createClass(BaseConnection, [{\n    key: 'getAddress',\n    value: function getAddress() {\n      return this.getProtocol() + '://' + this._address.replace(/^(\\w+:\\/\\/)?/, '');\n    }\n  }, {\n    key: 'getProtocol',\n    value: function getProtocol() {\n      return this._protocol + (this._secure ? 's' : '');\n    }\n\n    // eslint-disable-next-line no-unused-vars,class-methods-use-this\n\n  }, {\n    key: 'request',\n    value: function request(message, options) {}\n  }, {\n    key: 'send',\n    value: function send(message, options) {\n      return this.request(message, options);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'close',\n    value: function close() {}\n\n    /**\n     * 事件监听接口\n     */\n\n  }, {\n    key: 'on',\n    value: function on(type, listener) {\n      if (typeof listener === 'function') {\n        var listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n        if (listeners.indexOf(listener) < 0) {\n          listeners.push(listener);\n        }\n      }\n      return this;\n    }\n  }, {\n    key: 'off',\n    value: function off(type, listener) {\n      if (typeof listener === 'function') {\n        var listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n        var index = listeners.indexOf(listener);\n        if (index >= 0) listeners.splice(index, 1);\n      }\n      return this;\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(type) {\n      var _this = this,\n          _handler;\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listenerMap[type];\n      if (listeners) listeners.forEach(function (listener) {\n        return listener.apply(_this, args);\n      });\n\n      // 同时触发handler中对应方法\n      if (this._handler && typeof this._handler[type] === 'function') (_handler = this._handler)[type].apply(_handler, args);\n      return this;\n    }\n  }]);\n\n  return BaseConnection;\n}();\n\nBaseConnection.EVENT_OPEN = 'open';\nBaseConnection.EVENT_CLOSE = 'close';\nBaseConnection.EVENT_ERROR = 'error';\nBaseConnection.EVENT_REQUEST = 'request';\nBaseConnection.EVENT_SEND = 'send';\nBaseConnection.EVENT_RESPONSE = 'response';\nBaseConnection.EVENT_MESSAGE = 'message';\nBaseConnection.EVENT_PROGRESS = 'progress';\n\nfunction getDefaultSecure() {\n  if (typeof window !== 'undefined' && window.location) {\n    return (/^https:/.test(window.location.href)\n    );\n  }\n  return false;\n}\n\nfunction getInstance(url, options, handler) {\n  var secure = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : getDefaultSecure();\n\n  var _$exec = /^((\\w+)s*:\\/\\/)?(.*)/.exec(url),\n      _$exec2 = _slicedToArray(_$exec, 4),\n      _$exec2$ = _$exec2[2],\n      p = _$exec2$ === undefined ? 'http' : _$exec2$,\n      urlWithoutProtocol = _$exec2[3];\n\n  var protocol = secure ? p + 's' : p;\n  var func = BaseConnection[protocol];\n  if (!func) {\n    throw new Error('protocol \"' + protocol + '\" no support');\n  }\n  return func(urlWithoutProtocol, options, handler);\n}\n\nexports.default = BaseConnection;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/BaseConnection.js\n// module id = 0\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.serialize = serialize;\nexports.param = param;\nfunction serialize(params, obj, traditional, scope) {\n  var array = obj instanceof Array;\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    // eslint-disable-next-line no-param-reassign\n    if (scope) key = traditional ? scope : 'scope[' + (array ? '' : key) + ']'; // scope + '[' + (array ? '' : key) + ']'\n    // handle data in serializeArray() format\n    if (!scope && array) params.add(value.name, value.value);\n    // recurse into nested objects\n    else if (traditional ? value instanceof Array : (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') serialize(params, value, traditional, key);else params.add(key, value);\n  });\n}\n\nfunction param(obj, traditional) {\n  var params = [];\n  params.add = function add(k, v) {\n    this.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n  };\n  serialize(params, obj, traditional);\n  return params.join('&').replace('%20', '+');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/util.js\n// module id = 1\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stringToArrayBuffer = stringToArrayBuffer;\nexports.arrayBufferToString = arrayBufferToString;\nfunction stringToArrayBuffer(str) {\n  var strLen = str.length;\n  var buf = new ArrayBuffer(strLen * 2); // 2 bytes for each char\n  var bufView = new Uint8Array(buf);\n  for (var i = 0; i < strLen; i += 1) {\n    bufView[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction arrayBufferToString(arrayBuffer) {\n  var uint8Array = new Uint8Array(arrayBuffer);\n  var length = uint8Array.length;\n  if (length > 65535) {\n    var results = [];\n    var start = 0;\n    do {\n      var subArray = uint8Array.subarray(start, start += 65535);\n      results.push(String.fromCharCode.apply(String, subArray));\n    } while (start < length);\n\n    return decodeURIComponent(escape(results.join('')));\n  }\n  return decodeURIComponent(escape(String.fromCharCode.apply(String, uint8Array)));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/util.js\n// module id = 2\n// module chunks = 0 1","export * from 'dzhyun-connection/src/util';\r\n\r\nexport function unParam(searchStr) {\r\n  return (searchStr.indexOf('?') === 0 ? searchStr.substring(1) : searchStr).split('&').reduce((result, pair) => {\r\n    if (pair !== '') {\r\n      const arr = pair.split('=');\r\n      result[decodeURIComponent(arr[0])] = decodeURIComponent(arr.slice(1).join('=')); // eslint-disable-line\r\n    }\r\n    return result;\r\n  }, {});\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","'use strict';\n\nvar _BaseConnection = require('./BaseConnection');\n\nvar _BaseConnection2 = _interopRequireDefault(_BaseConnection);\n\nrequire('./HttpConnection');\n\nrequire('./WebSocketConnection');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _BaseConnection2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/index.js\n// module id = 4\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _snappyjsUncompress = require('./snappyjs-uncompress');\n\nvar _snappyjsUncompress2 = _interopRequireDefault(_snappyjsUncompress);\n\nvar _parseProtoBuf2 = require('./parseProtoBuf');\n\nvar _parseProtoBuf3 = _interopRequireDefault(_parseProtoBuf2);\n\nvar _parseJSON2 = require('./parseJSON');\n\nvar _parseJSON3 = _interopRequireDefault(_parseJSON2);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DzhyunDataParser = function () {\n\n  // options.compresser 压缩格式，默认不设置则根据数据自动判断，先直接解析数据失败了再解压后再次解析，\n  // 'snappy'使用snappy压缩，解压时如果失败直接报错，false不使用压缩，直接解析数据失败直接报错\n  // options.yfloat {bool} 是否将long类型数据做yfloat解析，默认不设置为true，设置为false则不解析, 不包括pbtable\n  function DzhyunDataParser() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DzhyunDataParser);\n\n    this.options = options;\n  }\n\n  _createClass(DzhyunDataParser, [{\n    key: 'parse',\n    value: function parse(input) {\n      var _this = this;\n\n      return Promise.resolve().then(function () {\n        return _this.options.compresser === 'snappy' ? DzhyunDataParser.uncompress(input) : input;\n      }).then(function (data) {\n        if (DzhyunDataParser.isJSON(data)) {\n          return DzhyunDataParser.parseJSON(data);\n        } else if (_this.options.compresser === undefined) {\n          // 默认自动判断压缩时，当解析pb失败后再次解压后再尝试解析\n          return DzhyunDataParser.parseProtoBuf(data, _this.options.yfloat !== false).catch(function (e) {\n            return DzhyunDataParser.uncompress(data).catch(function () {\n              throw e;\n            }).then(_this.parse.bind(_this));\n          });\n        }\n        return DzhyunDataParser.parseProtoBuf(data, _this.options.yfloat !== false);\n      });\n    }\n  }], [{\n    key: 'parseProtoBuf',\n    value: function parseProtoBuf(data, parseYfloat) {\n      return typeof _parseProtoBuf3.default === 'function' ? (0, _parseProtoBuf3.default)(data, parseYfloat) : Promise.reject(new Error('no support parse protobuf data'));\n    }\n  }, {\n    key: 'parseJSON',\n    value: function parseJSON(data) {\n      return typeof _parseJSON3.default === 'function' ? (0, _parseJSON3.default)(data) : Promise.reject(new Error('no support parse JSON data'));\n    }\n  }, {\n    key: 'isJSON',\n    value: function isJSON(data) {\n      var first = void 0;\n      if (typeof data === 'string') {\n        first = data.charCodeAt(0);\n      } else if (data instanceof ArrayBuffer) {\n        first = new Uint8Array(data)[0];\n      }\n      return first === 123;\n    }\n  }, {\n    key: 'uncompress',\n    value: function uncompress(data) {\n      return Promise.resolve().then(function () {\n        var result = data;\n        if (typeof _snappyjsUncompress2.default !== 'function') throw new Error('no support snappy uncompress');\n        if (typeof data === 'string') {\n          result = (0, _util.stringToArrayBuffer)(result);\n          result = (0, _snappyjsUncompress2.default)(result);\n        } else {\n          result = (0, _snappyjsUncompress2.default)(result);\n        }\n        return result;\n      });\n    }\n  }]);\n\n  return DzhyunDataParser;\n}();\n\nmodule.exports = DzhyunDataParser;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/DzhyunDataParser.js\n// module id = 5\n// module chunks = 0 1","/* eslint-disable no-underscore-dangle */\n\nimport DzhyunConnection from 'dzhyun-connection';\nimport DzhyunDataParser from 'dzhyun-dataparser';\n\nimport { param, unParam } from './util';\n\nfunction formatParams(params) {\n  const result = {};\n  if (params) {\n    Object.keys(params).forEach((key) => {\n      let value = params[key];\n      if (value instanceof Array) {\n        value = value.join(',');\n      }\n      if (value != null) {\n        result[key] = value;\n      }\n    });\n  }\n  return param(result);\n}\n\nlet lastQid = 0;\nfunction getQid() {\n  return lastQid += 1; // eslint-disable-line\n}\n\n// 简易的事件监听接口实现\nclass EventEmiter {\n  _listenerMap = {};\n\n  /**\n   * 事件监听接口\n   */\n  on(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      if (listeners.indexOf(listener) < 0) {\n        listeners.push(listener);\n      }\n    }\n    return this;\n  }\n\n  off(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      const index = listeners.indexOf(listener);\n      if (index >= 0) listeners.splice(index, 1);\n    } else {\n      this._listenerMap[type] = [];\n    }\n    return this;\n  }\n\n  trigger(type, ...args) {\n    const listeners = this._listenerMap[type];\n    if (listeners) listeners.forEach(listener => listener.apply(this, args));\n    return this;\n  }\n\n  alias(type) {\n    if (type) {\n      this[`on${type}`] = this.on.bind(this, type);\n      this[`off${type}`] = this.off.bind(this, type);\n      if (!this[type]) this[type] = this.trigger.bind(this, type);\n    }\n  }\n}\n\nclass Request extends EventEmiter {\n  constructor(options) {\n    super();\n    Object.assign(this, options);\n    this.subscribe = !!(options.queryObject && options.queryObject.sub === 1);\n\n    this.alias('message');\n    this.alias('error');\n\n    this.onmessage(options.callback);\n    this.onerror(options.callback);\n  }\n\n  then(...args) {\n    return new Promise((resolve, reject) => {\n      this.onmessage(resolve);\n      this.onerror(reject);\n    }).then(...args);\n  }\n\n  catch(...args) {\n    return new Promise((resolve, reject) => {\n      this.onmessage(resolve);\n      this.onerror(reject);\n    }).catch(...args);\n  }\n}\n\nclass Dzhyun extends EventEmiter {\n  constructor({\n                address = 'ws://gw.yundzh.com/ws',\n                dataType = 'json',\n                compresser,\n                dataParser,\n                token,\n                generateQid,\n                secure,\n                ping = false,\n                pingInterval = 30 * 1000, // 30秒\n                reconnect = false,\n                reconnectInterval = 10 * 1000, // 10秒\n              } = {}) {\n    super();\n    this.address = address;\n    this.dataType = dataType;\n    this.compresser = compresser;\n    this.dataParser = dataParser || new DzhyunDataParser({ compresser });\n    this.token = token;\n    this.generateQid = generateQid || getQid;\n    this.secure = secure;\n    this.ping = ping;\n    this.pingInterval = pingInterval;\n    this.reconnect = reconnect;\n    this.reconnectInterval = reconnectInterval;\n\n    this._requests = {};\n    this._resetReconnectCount();\n\n    this.alias('open');\n    this.alias('close');\n    this.alias('request');\n    this.alias('response');\n    this.alias('error');\n  }\n\n  _tokenPromise() {\n    return Promise.resolve(this.token && this.token.getToken ? this.token.getToken() : this.token);\n  }\n\n  _connection() {\n    this._conn = this._conn || Promise.resolve().then(() => {\n      return this._tokenPromise()\n        .catch(err => console.warn('request token fail', err))\n        .then((token) => {\n          let lastTime;\n          const connection = new DzhyunConnection(this.address, { deferred: true }, {\n            open: () => {\n              this.trigger('open');\n              this._resetReconnectCount();\n\n              // 通过发送/ping保持连接，默认每30秒发送一次\n              lastTime = Date.now();\n              if (this.ping) {\n                const pingInterval = this.pingInterval;\n                const ping = () => {\n                  setTimeout(() => {\n                    if (connection.getStatus() === 1) {\n                      // 多计算5秒避免刚好两次30秒超过了后台的1分钟ping/pong判断\n                      if ((Date.now() - lastTime) + (5 * 1000) >= pingInterval) {\n                        connection.request('/ping');\n                      }\n                      ping();\n                    }\n                  }, pingInterval);\n                };\n                ping();\n              }\n            },\n            request: (message) => {\n              lastTime = Date.now();\n              if (message !== '/ping') {\n                this.trigger('request', message);\n              }\n            },\n            response: (data) => {\n              lastTime = Date.now();\n              this.trigger('response', data);\n\n              // 解析数据\n              if (this.dataParser) {\n                Promise.resolve(this.dataParser.parse || this.dataParser).then((parse) => {\n                  parse.call(this.dataParser, data).then(({ Qid, Err, Counter, Data = {} }) => {\n                    if (!Qid) console.debug('Qid does not exist.');\n                    else {\n                      const request = this._requests[Qid];\n                      if (request) {\n                        if (Err !== 0) {\n                          // 服务端返回错误信息\n                          const { desc, code } = Data;\n                          const error = new Error(desc || 'unknown error');\n                          error.desc = desc;\n                          error.code = code;\n                          error.data = Data; // 将原始错误信息数据通过data属性暴露出去，使之可以处理复杂的嵌套错误\n                          request.error(error, Counter, code, desc);\n                        } else {\n                          let resultData = Data;\n                          // 简化数据结构\n                          if (request.shrinkData) {\n                            // 返回数据中RepData开头的字段数据\n                            resultData = resultData[\n                              Object.keys(resultData)\n                                .filter(key => ['Id', 'Obj'].indexOf(key) < 0)\n                                .sort(key1 => (key1.indexOf('RepData') === 0 ? -1 : 1))[0]\n                              ];\n                          }\n                          request.message(resultData, Counter);\n                        }\n                        if (!request.subscribe) {\n                          delete this._requests[Qid];\n                        }\n                      }\n                    }\n                  }).catch((err) => {\n                    // 解析数据失败\n                    console.error(err);\n                  });\n                });\n              }\n            },\n            close: () => {\n              this._conn = null;\n              this.trigger('close');\n              this._reconnect();\n            },\n            error: (err) => {\n              this._conn = null;\n              this.trigger('error', err);\n              this._reconnect();\n            },\n          }, this.secure);\n          const connectionType = connection._protocol;\n          if (token) {\n            if (connectionType === 'ws' && connection._address.indexOf('token=') < 0) {\n              connection._address = `${connection._address}?token=${token}`;\n            }\n          }\n          this._conn = connection;\n          // this._token = token;\n          this._connectionType = connectionType;\n          return this._conn;\n        });\n    });\n    return Promise.resolve(this._conn);\n  }\n\n  _reconnect() {\n    if (this.reconnect === true || this.reconnect > this._reconnectCount) {\n      if (this._reconnectTid) {\n        clearTimeout(this._reconnectTid);\n      }\n      // 并不直接重连而是直接将现在的数据请求重新执行\n      this._reconnectTid = setTimeout(() => {\n        const requests = this._requests;\n        Object.keys(this._requests).forEach(key => requests[key].start());\n        this._reconnectCount += 1;\n        this.trigger('reconnect');\n      }, this.reconnectInterval);\n    }\n  }\n\n  _resetReconnectCount() {\n    this._reconnectCount = 0;\n  }\n\n  /**\n   * 查询方法\n   * @param {!string} url 查询的url\n   * @param {Object=} params 参数\n   * @param {function=} callback 回调函数\n   * @param {boolean=} shrinkData 返回的数据是否简化结构，默认值是true\n   * @param {boolean=} immediate 是否立即请求数据，默认true，\n   *   设置为false时则不会立即请求而是返回request，可以手动调用request.start()去请求数据\n   */\n  query(url, params, callback, shrinkData, immediate) {\n    if (typeof url !== 'string') throw new Error('url must be a string');\n    if (typeof params !== 'object') {\n      shrinkData = callback; // eslint-disable-line\n      callback = params; // eslint-disable-line\n      params = null; // eslint-disable-line\n    }\n    if (typeof callback !== 'function') {\n      shrinkData = callback; // eslint-disable-line\n      callback = null; // eslint-disable-line\n    }\n    shrinkData = shrinkData !== false; // eslint-disable-line\n\n    const [serviceUrl, searchStr] = url.split('?');\n    const queryObject = Object.assign({\n      compresser: this.compresser || undefined,\n      output: this.dataType,\n    }, unParam(searchStr || ''), params);\n\n    let qid = queryObject.qid;\n    if (!qid) {\n      qid = this.generateQid(serviceUrl, queryObject);\n      queryObject.qid = qid;\n    }\n\n    const request = new Request({ qid, serviceUrl, queryObject, callback, shrinkData });\n    request.cancel = this.cancel.bind(this, qid);\n    request.start = () => {\n      this._requests[qid] = request;\n      let options;\n      this._connection().then((conn) => {\n        if (this._connectionType === 'http') {\n          options = queryObject.output === 'pb' ? { dataType: 'arraybuffer' } : undefined;\n          return this._tokenPromise().then((token) => {\n            queryObject.token = token;\n            return conn;\n          });\n        }\n        return conn;\n      }).then((conn) => {\n        const requestParams = formatParams(queryObject);\n        conn.request(requestParams ? `${serviceUrl}?${requestParams}` : serviceUrl, options);\n      });\n    };\n\n    // this._connection().then((conn) => {\n    //   // 请求已经取消则直接返回\n    //   if (!this._requests[request.qid]) return;\n    //   let options;\n    //   if (this._connectionType === 'http') {\n    //     queryObject.token = queryObject.token || this._token;\n    //     // 如果以http协议请求pb格式数据时，需设置额外参数以指定响应数据是二进制数据\n    //     options = { dataType: 'arraybuffer' };\n    //   }\n    //   const requestParams = formatParams(queryObject);\n    //   conn.request(requestParams ? `${serviceUrl}?${requestParams}` : serviceUrl, options);\n    // });\n    if (immediate !== false) {\n      request.start();\n    }\n    return request;\n  }\n\n  subscribe(url, params, callback, shrinkData, immediate) {\n    if (typeof params !== 'object') {\n      shrinkData = callback; // eslint-disable-line\n      callback = params; // eslint-disable-line\n      params = {}; // eslint-disable-line\n    }\n    params = params || {};  // eslint-disable-line\n    params.sub = 1;  // eslint-disable-line\n    return this.query(url, params, callback, shrinkData, immediate);\n  }\n\n  _cancelRequest(qid) {\n    if (this._connectionType === 'ws' && this._conn && this._conn.getStatus && this._conn.getStatus() === 1) {\n      this._conn.request(`/cancel?qid=${qid}`);\n    }\n  }\n\n  /**\n   * 取消查询\n   * @param {string=} qid\n   */\n  cancel(qid) {\n    if (qid) {\n      this._cancelRequest(qid);\n      delete this._requests[qid];\n    } else {\n      const requests = this._requests;\n      Object.keys(requests).forEach((eachQid) => {\n        this._cancelRequest(eachQid);\n        delete requests[eachQid];\n      });\n    }\n  }\n\n  // 关闭连接\n  close() {\n    // 取消当前请求，\n    this.cancel();\n    if (this._conn) this._conn.close();\n    this._conn = null;\n  }\n}\nDzhyun.Connection = DzhyunConnection;\nDzhyun.DataParser = DzhyunDataParser;\n\nmodule.exports = Dzhyun;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Dzhyun.js","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _BaseConnection2 = require('./BaseConnection');\n\nvar _BaseConnection3 = _interopRequireDefault(_BaseConnection2);\n\nvar _ajax = require('./ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HttpConnection = function (_BaseConnection) {\n  _inherits(HttpConnection, _BaseConnection);\n\n  function HttpConnection() {\n    var _ref;\n\n    _classCallCheck(this, HttpConnection);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // 用于记录当前未关闭的请求\n    var _this = _possibleConstructorReturn(this, (_ref = HttpConnection.__proto__ || Object.getPrototypeOf(HttpConnection)).call.apply(_ref, [this].concat(args)));\n\n    _this._request = [];\n    return _this;\n  }\n\n  _createClass(HttpConnection, [{\n    key: 'request',\n    value: function request(message, options) {\n      var _this2 = this;\n\n      var ajaxOptions = Object.assign({}, this.options, options);\n      var xhr = void 0;\n\n      ajaxOptions.success = function (data) {\n        _this2.trigger(_BaseConnection3.default.EVENT_MESSAGE, data);\n        _this2.trigger(_BaseConnection3.default.EVENT_RESPONSE, data);\n      };\n\n      ajaxOptions.error = function (jqXHR, textStatus, errorThrown) {\n        _this2.trigger(_BaseConnection3.default.EVENT_ERROR, errorThrown);\n      };\n\n      ajaxOptions.complete = function () {\n        var index = _this2._request.indexOf(xhr);\n        _this2._request.splice(index, 1);\n      };\n\n      ajaxOptions.url = this.getAddress() + (message || '');\n\n      xhr = (0, _ajax2.default)(ajaxOptions);\n\n      if (xhr) {\n        xhr.onreadystatechange = function (origFun) {\n          return function () {\n            if (xhr.readyState === 2) {\n\n              // 发出了请求\n              _this2.trigger(_BaseConnection3.default.EVENT_SEND, message);\n              _this2.trigger(_BaseConnection3.default.EVENT_REQUEST, message);\n            }\n            if (origFun) origFun();\n          };\n        }(xhr.onreadystatechange);\n      }\n\n      // 打开了连接\n      this.trigger(_BaseConnection3.default.EVENT_OPEN);\n\n      this._request.push(xhr);\n\n      xhr.onprogress = function (event) {\n        _this2.trigger(_BaseConnection3.default.EVENT_PROGRESS, event);\n      };\n\n      return this;\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this3 = this;\n\n      // 取消全部未结束的请求\n      this._request.forEach(function (xhr, index) {\n        xhr.abort();\n        _this3._request.splice(index, 1);\n      });\n\n      this.trigger(_BaseConnection3.default.EVENT_CLOSE);\n      return this;\n    }\n  }]);\n\n  return HttpConnection;\n}(_BaseConnection3.default);\n\n_BaseConnection3.default.http = function http(url, options, handler) {\n  return new HttpConnection(url, options, handler, false);\n};\n\n_BaseConnection3.default.https = function https(url, options, handler) {\n  return new HttpConnection(url, options, handler, true);\n};\n\nmodule.exports = _BaseConnection3.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/HttpConnection.js\n// module id = 7\n// module chunks = 0 1","'use strict';\n\n// 小程序环境中存在全局对象wx\nvar ws = {};\nif (typeof wx !== 'undefined') {\n  ws = require('./wxadapter/WebSocket.js');\n} else {\n  ws = require('ws');\n}\n\n// WebSocket依赖，node环境使用模块ws\nif (typeof window !== 'undefined') {\n  if (window.WebSocket) {\n    module.exports = window.WebSocket;\n  } else {\n    console.warn('当前浏览器不支持WebSocket');\n  }\n} else if (typeof WebSocket !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  module.exports = WebSocket;\n} else {\n  module.exports = ws;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/WebSocket.js\n// module id = 8\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _BaseConnection2 = require('./BaseConnection');\n\nvar _BaseConnection3 = _interopRequireDefault(_BaseConnection2);\n\nvar _WebSocket = require('./WebSocket');\n\nvar _WebSocket2 = _interopRequireDefault(_WebSocket);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar WebSocketConnection = function (_BaseConnection) {\n  _inherits(WebSocketConnection, _BaseConnection);\n\n  /**\n   * @param address\n   * @param {{deferred: boolean}} options\n   *  deferred: false 创建连接时马上连接websocket，默认\n   *            true  延时在第一次请求时连接websocket\n   * @param handler\n   * @param secure\n   */\n  function WebSocketConnection(address, options, handler, secure) {\n    _classCallCheck(this, WebSocketConnection);\n\n    var _this = _possibleConstructorReturn(this, (WebSocketConnection.__proto__ || Object.getPrototypeOf(WebSocketConnection)).call(this, address, options, handler, secure));\n\n    _this._protocol = 'ws';\n    _this._ws = null;\n\n    var deferred = options && options.deferred === true || false;\n\n    if (deferred === false) {\n      _this._connect();\n    }\n    // 在浏览器环境中，监听离线事件将手动中断ws连接\n    if (typeof window !== 'undefined') {\n      window.addEventListener('offline', function () {\n        return _this.close();\n      });\n    }\n    return _this;\n  }\n\n  _createClass(WebSocketConnection, [{\n    key: 'getStatus',\n    value: function getStatus() {\n      return this._ws ? this._ws.readyState : _WebSocket2.default.CLOSED;\n    }\n  }, {\n    key: '_connect',\n    value: function _connect() {\n      var _this2 = this;\n\n      // 连接创建websocket\n      if (typeof _WebSocket2.default !== 'undefined') {\n        this._ws = new _WebSocket2.default(this.getAddress());\n\n        // 避免WebSocket上没有状态静态值\n        if (_WebSocket2.default.OPEN === undefined) {\n          _WebSocket2.default.CONNECTING = this._ws.CONNECTING;\n          _WebSocket2.default.OPEN = this._ws.OPEN;\n          _WebSocket2.default.CLOSING = this._ws.CLOSING;\n          _WebSocket2.default.CLOSED = this._ws.CLOSED;\n        }\n        this._ws.binaryType = this.options.binaryType || this.options.dataType || 'arraybuffer';\n\n        this._ws.addEventListener('open', function () {\n          _this2.trigger(_BaseConnection3.default.EVENT_OPEN);\n        });\n        this._ws.addEventListener('error', function (err) {\n          _this2.trigger(_BaseConnection3.default.EVENT_ERROR, err);\n        });\n        this._ws.addEventListener('close', function () {\n          _this2.trigger(_BaseConnection3.default.EVENT_CLOSE);\n        });\n        this._ws.addEventListener('message', function (message) {\n          _this2.trigger(_BaseConnection3.default.EVENT_MESSAGE, message.data);\n          _this2.trigger(_BaseConnection3.default.EVENT_RESPONSE, message.data);\n        });\n      } else {\n        throw Error('Don\\'t support WebSocket');\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(message) {\n      var _this3 = this;\n\n      var msg = message || '';\n      if (this.getStatus() === _WebSocket2.default.CLOSED) {\n        this._connect();\n      }\n\n      if (this.getStatus() !== _WebSocket2.default.OPEN) {\n        this._ws.addEventListener('open', function () {\n          _this3._ws.send(msg);\n          _this3.trigger(_BaseConnection3.default.EVENT_SEND, msg);\n          _this3.trigger(_BaseConnection3.default.EVENT_REQUEST, msg);\n        });\n      } else {\n        this._ws.send(msg);\n        this.trigger(_BaseConnection3.default.EVENT_SEND, msg);\n        this.trigger(_BaseConnection3.default.EVENT_REQUEST, msg);\n      }\n      return this;\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (this.getStatus() !== _WebSocket2.default.CLOSED) {\n        this._ws.close();\n        this._ws = null;\n      }\n      return this;\n    }\n  }]);\n\n  return WebSocketConnection;\n}(_BaseConnection3.default);\n\n_BaseConnection3.default.ws = function ws(url, options, handler) {\n  return new WebSocketConnection(url, options, handler, false);\n};\n\n_BaseConnection3.default.wss = function wss(url, options, handler) {\n  return new WebSocketConnection(url, options, handler, true);\n};\n\nmodule.exports = _BaseConnection3.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/WebSocketConnection.js\n// module id = 9\n// module chunks = 0 1","'use strict';\n\n// 小程序环境中存在全局对象wx\nvar xhr2 = {};\nif (typeof wx !== 'undefined') {\n  xhr2 = require('./wxadapter/XmlHttpRequst.js');\n} else {\n  xhr2 = require('xhr2');\n}\n\n// 判断环境，浏览器环境存在window对象\nif (typeof window !== 'undefined') {\n\n  // 不考虑IE6以下的ActiveX方式\n  if (window.XMLHttpRequest) {\n    module.exports = window.XMLHttpRequest;\n  } else {\n    console.warn('当前浏览器不支持XMLHttpRequest');\n  }\n} else if (typeof XMLHttpRequest !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  module.exports = XMLHttpRequest;\n} else {\n\n  // nodejs中使用xhr2模块\n  module.exports = xhr2.XMLHttpRequest || xhr2;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/XMLHttpRequest.js\n// module id = 10\n// module chunks = 0 1","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /* eslint-disable */\n\n\nvar _XMLHttpRequest = require('./XMLHttpRequest');\n\nvar _XMLHttpRequest2 = _interopRequireDefault(_XMLHttpRequest);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * 模拟jquery的ajax接口\r\n */\n\n/**\r\n * 得到ArrayBuffer类型的响应数据\r\n * @param xhr\r\n * @returns {ArrayBuffer}\r\n */\nfunction getArrayBufferResponse(xhr) {\n  if (typeof ArrayBuffer === 'undefined') {\n    throw new Error('不支持ArrayBuffer类型');\n  } else if (xhr.response instanceof ArrayBuffer) {\n    return xhr.response;\n  } else {\n\n    var text = xhr.responseText;\n    var length = text.length;\n    var buf = new ArrayBuffer(length);\n    var bufView = new Uint8Array(buf);\n    for (var i = 0; i < length; i += 1) {\n\n      // \"& 0xff\"，表示在每个字符的两个字节之中，只保留后一个字节，将前一个字节扔掉。原因是浏览器解读字符的时候，会把字符自动解读成Unicode的0xF700-0xF7ff区段。\n      // http://www.ruanyifeng.com/blog/2012/09/xmlhttprequest_level_2.html\n      // eslint-disable-next-line no-bitwise\n      bufView[i] = text.charCodeAt(i) & 0xff;\n    }\n    return buf;\n  }\n}\n\n/**\r\n * 得到Blob类型的响应数据\r\n * @param xhr\r\n */\nfunction getBlobResponse(xhr) {\n  if (typeof Blob === 'undefined') {\n    throw new Error('不支持Blob类型');\n  } else if (xhr.response instanceof Blob) {\n    return xhr.response;\n  } else {\n    var buf = getArrayBufferResponse(xhr);\n\n    // TODO 未知类型\n    return new Blob([buf]);\n  }\n}\n\n// 修改自https://github.com/ForbesLindesay/ajax\nvar jsonpID = 0,\n    nodejs = typeof window === 'undefined',\n    document = !nodejs && window.document,\n    key,\n    name,\n    rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n    scriptTypeRE = /^(?:text|application)\\/javascript/i,\n    xmlTypeRE = /^(?:text|application)\\/xml/i,\n    jsonType = 'application/json',\n    htmlType = 'text/html',\n    blankRE = /^\\s*$/;\n\nvar ajax = module.exports = function (options) {\n  var settings = Object.assign({}, options || {});\n  for (key in ajax.settings) {\n    if (settings[key] === undefined) settings[key] = ajax.settings[key];\n  }ajaxStart(settings);\n\n  if (!settings.crossDomain) {\n    settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) && !nodejs && !!window.location && RegExp.$2 != window.location.host;\n  }\n\n  var dataType = settings.dataType,\n      hasPlaceholder = /=\\?/.test(settings.url);\n  if (dataType == 'jsonp' || hasPlaceholder) {\n    if (!hasPlaceholder) settings.url = appendQuery(settings.url, 'callback=?');\n    return ajax.JSONP(settings);\n  }\n\n  if (!settings.url) settings.url = !nodejs && !!window.location && window.location.toString();\n  serializeData(settings);\n\n  var mime = settings.accepts[dataType],\n      baseHeaders = {},\n      protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : !nodejs && !!window.location && window.location.protocol,\n      xhr = ajax.settings.xhr(),\n      abortTimeout;\n\n  if (!settings.crossDomain) baseHeaders['X-Requested-With'] = 'XMLHttpRequest';else if (typeof XDomainRequest !== 'undefined') {\n    xhr = new XDomainRequest();\n    xhr.onload = function () {\n      xhr.readyState = 4;\n      xhr.status = 200;\n      xhr.onreadystatechange();\n    };\n    xhr.error = function () {\n      xhr.readyState = 4;\n      xhr.status = 400;\n      xhr.onreadystatechange();\n    };\n  }\n  if (mime) {\n    baseHeaders['Accept'] = mime;\n    if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n    xhr.overrideMimeType && xhr.overrideMimeType(mime);\n  }\n  if (settings.contentType || settings.data && settings.type.toUpperCase() != 'GET') baseHeaders['Content-Type'] = settings.contentType || 'application/x-www-form-urlencoded';\n  settings.headers = Object.assign(baseHeaders, settings.headers || {});\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      clearTimeout(abortTimeout);\n      var result,\n          error = false;\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n        dataType = dataType || mimeToDataType(xhr.contentType || xhr.getResponseHeader && xhr.getResponseHeader('content-type'));\n\n        try {\n          if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(xhr.responseText) ? null : JSON.parse(xhr.responseText);else if (dataType === 'arraybuffer') result = getArrayBufferResponse(xhr);else if (dataType === 'blob') result = getBlobResponse(xhr);else result = xhr.responseText;\n        } catch (e) {\n          error = e;\n        }\n\n        if (error) ajaxError(error, 'parsererror', xhr, settings);else ajaxSuccess(result, xhr, settings);\n      } else {\n        ajaxError(null, 'error', xhr, settings);\n      }\n    }\n  };\n\n  var async = 'async' in settings ? settings.async : true;\n  xhr.open(settings.type, settings.url, async);\n\n  if (dataType == 'arraybuffer' || dataType == 'blob') {\n\n    // 因为IE的问题，只能将设置responseType的操作放在xhr.open之后\n    // https://connect.microsoft.com/IE/feedback/details/795580/ie11-xmlhttprequest-incorrectly-throws-invalidstateerror-when-setting-responsetype\n    // 判断是否支持设置responseType\n    var supported = typeof xhr.responseType === 'string';\n\n    // 支持二进制请求直接设置responseType\n    if (supported) {\n\n      // 响应类型默认arraybuffer，可以设置为blob（响应回来使用response取得数据）\n      xhr.responseType = options.dataType;\n    } else {\n\n      // 不支持则尝试使用用户自定义的字符集方式（响应回来使用responseText取得数据）\n      xhr.overrideMimeType ? xhr.overrideMimeType(\"text/plain; charset=x-user-defined\") : xhr.setRequestHeader('Accept-Charset', 'x-user-defined');\n    }\n  }\n\n  for (name in settings.headers) {\n    xhr.setRequestHeader(name, settings.headers[name]);\n  }if (ajaxBeforeSend(xhr, settings) === false) {\n    xhr.abort();\n    return false;\n  }\n\n  if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.onreadystatechange = empty;\n    xhr.abort();\n    ajaxError(null, 'timeout', xhr, settings);\n  }, settings.timeout);\n\n  // avoid sending empty string (#319)\n  xhr.send(settings.data ? settings.data : null);\n  return xhr;\n};\n\n// trigger a custom event and return false if it was cancelled\nfunction triggerAndReturn(context, eventName, data) {\n  //todo: Fire off some events\n  //var event = $.Event(eventName)\n  //$(context).trigger(event, data)\n  return true; //!event.defaultPrevented\n}\n\n// trigger an Ajax \"global\" event\nfunction triggerGlobal(settings, context, eventName, data) {\n  if (settings.global) return triggerAndReturn(context || document, eventName, data);\n}\n\n// Number of active Ajax requests\najax.active = 0;\n\nfunction ajaxStart(settings) {\n  if (settings.global && ajax.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n}\nfunction ajaxStop(settings) {\n  if (settings.global && ! --ajax.active) triggerGlobal(settings, null, 'ajaxStop');\n}\n\n// triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\nfunction ajaxBeforeSend(xhr, settings) {\n  var context = settings.context;\n  if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n\n  triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n}\nfunction ajaxSuccess(data, xhr, settings) {\n  var context = settings.context,\n      status = 'success';\n  settings.success.call(context, data, status, xhr);\n  triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n  ajaxComplete(status, xhr, settings);\n}\n// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\nfunction ajaxError(error, type, xhr, settings) {\n  var context = settings.context;\n  settings.error.call(context, xhr, type, error);\n  triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error]);\n  ajaxComplete(type, xhr, settings);\n}\n// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\nfunction ajaxComplete(status, xhr, settings) {\n  var context = settings.context;\n  settings.complete.call(context, xhr, status);\n  triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n  ajaxStop(settings);\n}\n\n// Empty function, used as default callback\nfunction empty() {}\n\najax.JSONP = function (options) {\n  if (!('type' in options)) return ajax(options);\n\n  var callbackName = 'jsonp' + ++jsonpID,\n      script = document.createElement('script'),\n      abort = function abort() {\n    //todo: remove script\n    //$(script).remove()\n    if (!nodejs && callbackName in window) window[callbackName] = empty;\n    ajaxComplete('abort', xhr, options);\n  },\n      xhr = { abort: abort },\n      abortTimeout,\n      head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n  if (options.error) script.onerror = function () {\n    xhr.abort();\n    options.error();\n  };\n\n  if (!nodejs) window[callbackName] = function (data) {\n    clearTimeout(abortTimeout);\n    //todo: remove script\n    //$(script).remove()\n    delete window[callbackName];\n    ajaxSuccess(data, xhr, options);\n  };\n\n  serializeData(options);\n  script.src = options.url.replace(/=\\?/, '=' + callbackName);\n\n  // Use insertBefore instead of appendChild to circumvent an IE6 bug.\n  // This arises when a base node is used (see jQuery bugs #2709 and #4378).\n  head.insertBefore(script, head.firstChild);\n\n  if (options.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.abort();\n    ajaxComplete('timeout', xhr, options);\n  }, options.timeout);\n\n  return xhr;\n};\n\najax.settings = {\n  // Default type of request\n  type: 'GET',\n  // Callback that is executed before request\n  beforeSend: empty,\n  // Callback that is executed if the request succeeds\n  success: empty,\n  // Callback that is executed the the server drops error\n  error: empty,\n  // Callback that is executed on request complete (both: error and success)\n  complete: empty,\n  // The context for the callbacks\n  context: null,\n  // Whether to trigger \"global\" Ajax events\n  global: true,\n  // Transport\n  xhr: function xhr() {\n    return new _XMLHttpRequest2.default();\n  },\n  // MIME types mapping\n  accepts: {\n    script: 'text/javascript, application/javascript',\n    json: jsonType,\n    xml: 'application/xml, text/xml',\n    html: htmlType,\n    text: 'text/plain'\n  },\n  // Whether the request is to another domain\n  crossDomain: false,\n  // Default timeout\n  timeout: 0\n};\n\nfunction mimeToDataType(mime) {\n  return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n}\n\nfunction appendQuery(url, query) {\n  return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n}\n\n// serialize payload and append it to the URL for GET requests\nfunction serializeData(options) {\n  if (_typeof(options.data) === 'object') options.data = (0, _util.param)(options.data);\n  if (options.data && (!options.type || options.type.toUpperCase() == 'GET')) options.url = appendQuery(options.url, options.data);\n}\n\najax.get = function (url, success) {\n  return ajax({ url: url, success: success });\n};\n\najax.post = function (url, data, success, dataType) {\n  if (typeof data === 'function') dataType = dataType || success, success = data, data = null;\n  return ajax({ type: 'POST', url: url, data: data, success: success, dataType: dataType });\n};\n\najax.getJSON = function (url, success) {\n  return ajax({ url: url, success: success, dataType: 'json' });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/ajax.js\n// module id = 11\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseJSON;\n\nvar _util = require('./util');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction convertToJsonArray(input) {\n  if (!input || !input.head) return input;\n\n  var head = input.head;\n  var data = input.data;\n\n  return data.map(function (row) {\n    var rowObject = {};\n    row.forEach(function (cell, columnIndex) {\n      rowObject[head[columnIndex]] = convertToJsonArray(cell);\n    });\n    return rowObject;\n  });\n}\n\nfunction parseJSON(input) {\n  return Promise.resolve().then(function () {\n    var json = typeof ArrayBuffer !== 'undefined' && input instanceof ArrayBuffer ? (0, _util.arrayBufferToString)(input) : input;\n    var response = JSON.parse(json);\n    if (response.Err !== 0) {\n      return response;\n    }\n\n    var data = response.Data;\n    if (data.JsonTbl) {\n      var tbl = convertToJsonArray(data.JsonTbl);\n      var key = Object.keys(tbl[0])[0];\n      var value = tbl[0][key];\n      data = _defineProperty({\n        Id: data.Id\n      }, key, value);\n    }\n\n    return {\n      Qid: response.Qid,\n      Err: response.Err,\n      Counter: response.Counter,\n      Data: data\n    };\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/parseJSON.js\n// module id = 12\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = uncompress;\n\nvar _snappy_decompressor = require('snappyjs/snappy_decompressor');\n\nfunction uncompress(compressed) {\n  if (!(compressed instanceof ArrayBuffer)) {\n    throw new TypeError('Argument compressed must be type of ArrayBuffer');\n  }\n\n  var decompressor = new _snappy_decompressor.SnappyDecompressor(new Uint8Array(compressed));\n  var length = decompressor.readUncompressedLength();\n  if (length === -1) {\n    throw new Error('Invalid Snappy bitstream');\n  }\n  var uncompressed = new ArrayBuffer(length);\n  var uncompressedView = new Uint8Array(uncompressed);\n  if (!decompressor.uncompressToBuffer(uncompressedView)) {\n    throw new Error('Invalid Snappy bitstream');\n  }\n  return uncompressed;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/snappyjs-uncompress.js\n// module id = 13\n// module chunks = 0 1","// empty (null-loader)\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/wxadapter/WebSocket.js\n// module id = 14\n// module chunks = 0 1","// empty (null-loader)\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/wxadapter/XmlHttpRequst.js\n// module id = 15\n// module chunks = 0 1","// empty (null-loader)\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/parseProtoBuf.js\n// module id = 16\n// module chunks = 0 1","// The MIT License (MIT)\n//\n// Copyright (c) 2016 Zhipeng Jia\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n'use strict'\n\nvar WORD_MASK = [0, 0xff, 0xffff, 0xffffff, 0xffffffff]\n\nfunction copyBytes (from_array, from_pos, to_array, to_pos, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    to_array[to_pos + i] = from_array[from_pos + i]\n  }\n}\n\nfunction selfCopyBytes (array, pos, offset, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    array[pos + i] = array[pos - offset + i]\n  }\n}\n\nfunction SnappyDecompressor (compressed) {\n  this.array = compressed\n  this.pos = 0\n}\n\nSnappyDecompressor.prototype.readUncompressedLength = function () {\n  var result = 0\n  var shift = 0\n  var c, val\n  while (shift < 32 && this.pos < this.array.length) {\n    c = this.array[this.pos]\n    this.pos += 1\n    val = c & 0x7f\n    if (((val << shift) >>> shift) !== val) {\n      return -1\n    }\n    result |= val << shift\n    if (c < 128) {\n      return result\n    }\n    shift += 7\n  }\n  return -1\n}\n\nSnappyDecompressor.prototype.uncompressToBuffer = function (out_buffer) {\n  var array = this.array\n  var array_length = array.length\n  var pos = this.pos\n  var out_pos = 0\n\n  var c, len, small_len\n  var offset\n\n  while (pos < array.length) {\n    c = array[pos]\n    pos += 1\n    if ((c & 0x3) === 0) {\n      // Literal\n      len = (c >>> 2) + 1\n      if (len > 60) {\n        if (pos + 3 >= array_length) {\n          return false\n        }\n        small_len = len - 60\n        len = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n        len = (len & WORD_MASK[small_len]) + 1\n        pos += small_len\n      }\n      if (pos + len > array_length) {\n        return false\n      }\n      copyBytes(array, pos, out_buffer, out_pos, len)\n      pos += len\n      out_pos += len\n    } else {\n      switch (c & 0x3) {\n        case 1:\n          len = ((c >>> 2) & 0x7) + 4\n          offset = array[pos] + ((c >>> 5) << 8)\n          pos += 1\n          break\n        case 2:\n          if (pos + 1 >= array_length) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8)\n          pos += 2\n          break\n        case 3:\n          if (pos + 3 >= array_length) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n          pos += 4\n          break\n        default:\n          break\n      }\n      if (offset === 0 || offset > out_pos) {\n        return false\n      }\n      selfCopyBytes(out_buffer, out_pos, offset, len)\n      out_pos += len\n    }\n  }\n  return true\n}\n\nexports.SnappyDecompressor = SnappyDecompressor\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/snappyjs/snappy_decompressor.js\n// module id = 17\n// module chunks = 0 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 18\n// module chunks = 0 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// xhr2 (ignored)\n// module id = 19\n// module chunks = 0 1"],"sourceRoot":""}