{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ea52e78d1791ef9adcb0","webpack:///./~/dzhyun-connection/lib/BaseConnection.js","webpack:///./~/dzhyun-connection/lib/util.js","webpack:///./~/dzhyun-dataparser/lib/util.js","webpack:///./~/event-target/min.js","webpack:///./~/url/url.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/util.js","webpack:///./~/dzhyun-connection/lib/index.js","webpack:///./~/dzhyun-dataparser/lib/DzhyunDataParser.js","webpack:///./src/Dzhyun.js","webpack:///./~/dzhyun-connection/lib/HttpConnection.js","webpack:///./~/dzhyun-connection/lib/WebSocket.js","webpack:///./~/dzhyun-connection/lib/WebSocketConnection.js","webpack:///./~/dzhyun-connection/lib/XMLHttpRequest.js","webpack:///./~/dzhyun-connection/lib/ajax.js","webpack:///./~/dzhyun-connection/lib/wxadapter/WebSocket.js","webpack:///./~/dzhyun-connection/lib/wxadapter/XmlHttpRequst.js","webpack:///./~/dzhyun-dataparser/lib/parseJSON.js","webpack:///./~/dzhyun-dataparser/lib/snappyjs-uncompress.js","webpack:///./~/dzhyun-dataparser/lib/parseProtoBuf.js","webpack:///./~/punycode/punycode.js","webpack:///./~/querystring-es3/decode.js","webpack:///./~/querystring-es3/encode.js","webpack:///./~/querystring-es3/index.js","webpack:///./~/snappyjs/snappy_decompressor.js","webpack:///./~/url/util.js","webpack:///(webpack)/buildin/module.js","webpack:///ws (ignored)","webpack:///xhr2 (ignored)"],"names":["unParam","searchStr","indexOf","substring","split","reduce","result","pair","arr","decodeURIComponent","slice","join","formatParams","params","Object","keys","forEach","key","value","Array","lastQid","getQid","EventEmiter","_listenerMap","type","listener","listeners","push","index","splice","args","apply","on","bind","off","trigger","Request","options","assign","subscribe","queryObject","sub","alias","onmessage","callback","onerror","Promise","resolve","reject","then","catch","Dzhyun","address","dataType","compresser","dataParser","token","generateQid","secure","ping","pingInterval","reconnect","reconnectInterval","post","DzhyunDataParser","_requests","_resetReconnectCount","getToken","_conn","_tokenPromise","console","warn","err","lastTime","connection","DzhyunConnection","deferred","open","Date","now","setTimeout","getStatus","request","message","response","data","parse","call","Qid","Err","Counter","Data","debug","desc","code","error","Error","resultData","shrinkData","filter","sort","key1","close","_reconnect","connectionType","_protocol","_address","_connectionType","_reconnectCount","_reconnectTid","clearTimeout","requests","start","url","immediate","serviceUrl","undefined","output","qid","cancel","sid","_sid","_connection","conn","requestParams","query","_cancelRequest","eachQid","Connection","DataParser","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;AACA;AACA,CAAC;;AAED,kCAAkC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAErpB,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,4DAA4D;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;AChMA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,2KAA2K;AAC3K,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC/BA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,C;;;;;;AC/BA;AACA,2BAA2B,aAAa,wEAAwE,sBAAsB,IAAI,+BAA+B,SAAS,oFAAoF,OAAO,gBAAgB,YAAY,mBAAmB,OAAO,wBAAwB,IAAI,iBAAiB,IAAI,MAAM,SAAS,aAAa,cAAc,cAAc,gBAAgB,qJAAqJ,cAAc,yBAAyB,kBAAkB,gCAAgC,yBAAyB,iCAAiC,EAAE,cAAc,0BAA0B,gBAAgB,+BAA+B,4DAA4D,kBAAkB,qBAAqB,MAAM,oBAAoB,qBAAqB,cAAc,0BAA0B,sBAAsB,eAAe,YAAY,oBAAoB,iBAAiB,sBAAsB,2BAA2B,GAAG,sBAAsB,yDAAyD,oCAAoC,GAAG,SAAS,G;;;;;;;;ACDhwC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAK;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;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AAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0C;;;;;;;AC1IA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAED;AACA;AACA,C;;;;;;;AC1BA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H,GAAG;;;AAG7Q;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,eAAe;AAChD;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,qDAAqD,2GAA2G,0EAA0E,4DAA4D;AAC5V,SAAS;AACT;AACA;;AAEA,kEAAkE;AAClE,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,eAAe;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C,IAAI;AAC/C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,6BAA6B;AAC5C;;AAEA;AACA;AACA,eAAe,2EAA2E;AAC1F;;AAEA;AACA,eAAe,+CAA+C;AAC9D,E;;;;;;;AClVA;;AAEA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C,KAAK;AACL;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,QAAQ;AACR;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,4BAA4B,aAAa;AACzC;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;ACvGA;;AAEA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;AC5EA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;ACnDA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACzBA,sB;;;;;;sDCAA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAEA;AACA;AACA;AACA;AACA,GAAG;AAAA;AACH,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA,CAAC;;;;;;;;;ACphBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpFA;;AAEA;AACA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACnIA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA,e;;;;;;ACAA,e","file":"dzhyun-wxapp.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dzhyun\"] = factory();\n\telse\n\t\troot[\"Dzhyun\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ea52e78d1791ef9adcb0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Object.assign polyfill\nif (typeof Object.assign !== 'function') {\n  Object.assign = function assign(target) {\n    // .length of function is 2\n    if (target == null) {\n      // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 0; index < (arguments.length <= 1 ? 0 : arguments.length - 1); index += 1) {\n      var nextSource = arguments.length <= index + 1 ? undefined : arguments[index + 1];\n\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // eslint-disable-line no-restricted-syntax\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\n\n/**\n * connection基类\n */\n\nvar BaseConnection = function () {\n\n  /**\n   * 构造方法\n   * @param {!string} address 连接地址\n   * @param {!object} options 设置参数\n   * @param {object=} handler 事件处理对象\n   * @param {boolean=} secure 是否使用ssl(https 或者 wss)，默认根据页面url自动判断\n   */\n  function BaseConnection(address, options, handler, secure) {\n    _classCallCheck(this, BaseConnection);\n\n    if (typeof address !== 'string') {\n      throw new Error('address is incorrect');\n    }\n    if (this.constructor === BaseConnection) {\n      // eslint-disable-next-line no-use-before-define\n      return getInstance(address, options, handler, secure);\n    }\n    this._address = address;\n    this.options = options || {};\n\n    if (typeof handler === 'boolean') {\n      this._secure = handler;\n      this._handler = null;\n    } else {\n      this._secure = secure || false;\n      this._handler = handler;\n    }\n\n    // 默认协议\n    this._protocol = 'http';\n\n    this._listenerMap = {};\n  }\n\n  _createClass(BaseConnection, [{\n    key: 'getAddress',\n    value: function getAddress() {\n      return this.getProtocol() + '://' + this._address.replace(/^(\\w+:\\/\\/)?/, '');\n    }\n  }, {\n    key: 'getProtocol',\n    value: function getProtocol() {\n      return this._protocol + (this._secure ? 's' : '');\n    }\n\n    // eslint-disable-next-line no-unused-vars,class-methods-use-this\n\n  }, {\n    key: 'request',\n    value: function request(message, options) {}\n  }, {\n    key: 'send',\n    value: function send(message, options) {\n      return this.request(message, options);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'close',\n    value: function close() {}\n\n    /**\n     * 事件监听接口\n     */\n\n  }, {\n    key: 'on',\n    value: function on(type, listener) {\n      if (typeof listener === 'function') {\n        var listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n        if (listeners.indexOf(listener) < 0) {\n          listeners.push(listener);\n        }\n      }\n      return this;\n    }\n  }, {\n    key: 'off',\n    value: function off(type, listener) {\n      if (typeof listener === 'function') {\n        var listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n        var index = listeners.indexOf(listener);\n        if (index >= 0) listeners.splice(index, 1);\n      }\n      return this;\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(type) {\n      var _this = this,\n          _handler;\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listenerMap[type];\n      if (listeners) listeners.forEach(function (listener) {\n        return listener.apply(_this, args);\n      });\n\n      // 同时触发handler中对应方法\n      if (this._handler && typeof this._handler[type] === 'function') (_handler = this._handler)[type].apply(_handler, args);\n      return this;\n    }\n  }]);\n\n  return BaseConnection;\n}();\n\nBaseConnection.EVENT_OPEN = 'open';\nBaseConnection.EVENT_CLOSE = 'close';\nBaseConnection.EVENT_ERROR = 'error';\nBaseConnection.EVENT_REQUEST = 'request';\nBaseConnection.EVENT_SEND = 'send';\nBaseConnection.EVENT_RESPONSE = 'response';\nBaseConnection.EVENT_MESSAGE = 'message';\nBaseConnection.EVENT_PROGRESS = 'progress';\n\nfunction getDefaultSecure() {\n  if (typeof window !== 'undefined' && window.location) {\n    return (/^https:/.test(window.location.href)\n    );\n  }\n  return false;\n}\n\nfunction getInstance(url, options, handler) {\n  var secure = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : getDefaultSecure();\n\n  var _$exec = /^((\\w+)s*:\\/\\/)?(.*)/.exec(url),\n      _$exec2 = _slicedToArray(_$exec, 4),\n      _$exec2$ = _$exec2[2],\n      p = _$exec2$ === undefined ? 'http' : _$exec2$,\n      urlWithoutProtocol = _$exec2[3];\n\n  var protocol = secure ? p + 's' : p;\n  var func = BaseConnection[protocol];\n  if (!func) {\n    throw new Error('protocol \"' + protocol + '\" no support');\n  }\n  return func(urlWithoutProtocol, options, handler);\n}\n\nexports.default = BaseConnection;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/BaseConnection.js\n// module id = 0\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.serialize = serialize;\nexports.param = param;\nfunction serialize(params, obj, traditional, scope) {\n  var array = obj instanceof Array;\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    // eslint-disable-next-line no-param-reassign\n    if (scope) key = traditional ? scope : 'scope[' + (array ? '' : key) + ']'; // scope + '[' + (array ? '' : key) + ']'\n    // handle data in serializeArray() format\n    if (!scope && array) params.add(value.name, value.value);\n    // recurse into nested objects\n    else if (traditional ? value instanceof Array : (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') serialize(params, value, traditional, key);else params.add(key, value);\n  });\n}\n\nfunction param(obj, traditional) {\n  var params = [];\n  params.add = function add(k, v) {\n    this.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n  };\n  serialize(params, obj, traditional);\n  return params.join('&').replace('%20', '+');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/util.js\n// module id = 1\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stringToArrayBuffer = stringToArrayBuffer;\nexports.arrayBufferToString = arrayBufferToString;\nfunction stringToArrayBuffer(str) {\n  var strLen = str.length;\n  var buf = new ArrayBuffer(strLen * 2); // 2 bytes for each char\n  var bufView = new Uint8Array(buf);\n  for (var i = 0; i < strLen; i += 1) {\n    bufView[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction arrayBufferToString(arrayBuffer) {\n  var uint8Array = new Uint8Array(arrayBuffer);\n  var length = uint8Array.length;\n  if (length > 65535) {\n    var results = [];\n    var start = 0;\n    do {\n      var subArray = uint8Array.subarray(start, start += 65535);\n      results.push(String.fromCharCode.apply(String, subArray));\n    } while (start < length);\n\n    return decodeURIComponent(escape(results.join('')));\n  }\n  return decodeURIComponent(escape(String.fromCharCode.apply(String, uint8Array)));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/util.js\n// module id = 2\n// module chunks = 0 1","/*! (c) 2017 Andrea Giammarchi (ISC) */\nvar EventTarget=function(){\"use strict\";var t=\"object\"==typeof global?global:self,e=[].findIndex||function(t,e){for(var n=this.length;n--;)if(t.call(e,this[n]))return n;return n},n=Object.defineProperty,r=\"__event-target__\"+Math.random(),i=t.WeakMap||function(){return{get:function(t){return t[r]},set:function(t,e){n(t,r,{configurable:!0,value:e})}}},a=t.EventTarget;try{new a}catch(o){a=function(){function t(){}function r(t){var e=t.options;e&&e.once&&u.call(t.target,this.type,t.listener,t.options),\"function\"==typeof t.listener?t.listener.call(t.target,this):t.listener.handleEvent(this)}function a(t){return this===t.listener}function o(t,n,r){var i=f(this),o=i[t]||(i[t]=[]);e.call(o,a,n)<0&&o.push({target:this,listener:n,options:r})}function c(t){var e=f(this),n=e[t.type];return n&&(h(t,{currentTarget:this,target:this}),n.forEach(r,t),delete t.currentTarget,delete t.target),!0}function u(t,n,r){var i=f(this),o=i[t];if(o){var c=e.call(o,a,n);-1<c&&o.splice(c,1)}}function l(){}var s=new i,f=function(t){return s.get(t)||v(t)},v=function(t){var e=new l;return s.set(t,e),e},h=function(t,e){for(var r in e)n(t,r,{configurable:!0,value:e[r]})};return h(t.prototype,{addEventListener:o,dispatchEvent:c,removeEventListener:u}),l.prototype=Object.create(null),t}()}return a}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/event-target/min.js\n// module id = 3\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/url/url.js\n// module id = 4\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 5\n// module chunks = 0 1","export * from 'dzhyun-connection/src/util';\r\n\r\nexport function unParam(searchStr) {\r\n  return (searchStr.indexOf('?') === 0 ? searchStr.substring(1) : searchStr).split('&').reduce((result, pair) => {\r\n    if (pair !== '') {\r\n      const arr = pair.split('=');\r\n      result[decodeURIComponent(arr[0])] = decodeURIComponent(arr.slice(1).join('=')); // eslint-disable-line\r\n    }\r\n    return result;\r\n  }, {});\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","'use strict';\n\nvar _BaseConnection = require('./BaseConnection');\n\nvar _BaseConnection2 = _interopRequireDefault(_BaseConnection);\n\nrequire('./HttpConnection');\n\nrequire('./WebSocketConnection');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _BaseConnection2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/index.js\n// module id = 7\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _snappyjsUncompress = require('./snappyjs-uncompress');\n\nvar _snappyjsUncompress2 = _interopRequireDefault(_snappyjsUncompress);\n\nvar _parseProtoBuf2 = require('./parseProtoBuf');\n\nvar _parseProtoBuf3 = _interopRequireDefault(_parseProtoBuf2);\n\nvar _parseJSON2 = require('./parseJSON');\n\nvar _parseJSON3 = _interopRequireDefault(_parseJSON2);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DzhyunDataParser = function () {\n\n  // options.compresser 压缩格式，默认不设置则根据数据自动判断，先直接解析数据失败了再解压后再次解析，\n  // 'snappy'使用snappy压缩，解压时如果失败直接报错，false不使用压缩，直接解析数据失败直接报错\n  // options.yfloat {bool} 是否将long类型数据做yfloat解析，默认不设置为true，设置为false则不解析, 不包括pbtable\n  function DzhyunDataParser() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DzhyunDataParser);\n\n    this.options = options;\n  }\n\n  _createClass(DzhyunDataParser, [{\n    key: 'parse',\n    value: function parse(input) {\n      var _this = this;\n\n      return Promise.resolve().then(function () {\n        return _this.options.compresser === 'snappy' ? DzhyunDataParser.uncompress(input) : input;\n      }).then(function (data) {\n        if (DzhyunDataParser.isJSON(data)) {\n          return DzhyunDataParser.parseJSON(data);\n        } else if (_this.options.compresser === undefined) {\n          // 默认自动判断压缩时，当解析pb失败后再次解压后再尝试解析\n          return DzhyunDataParser.parseProtoBuf(data, _this.options.yfloat !== false).catch(function (e) {\n            return DzhyunDataParser.uncompress(data).catch(function () {\n              throw e;\n            }).then(_this.parse.bind(_this));\n          });\n        }\n        return DzhyunDataParser.parseProtoBuf(data, _this.options.yfloat !== false);\n      });\n    }\n  }], [{\n    key: 'parseProtoBuf',\n    value: function parseProtoBuf(data, parseYfloat) {\n      return typeof _parseProtoBuf3.default === 'function' ? (0, _parseProtoBuf3.default)(data, parseYfloat) : Promise.reject(new Error('no support parse protobuf data'));\n    }\n  }, {\n    key: 'parseJSON',\n    value: function parseJSON(data) {\n      return typeof _parseJSON3.default === 'function' ? (0, _parseJSON3.default)(data) : Promise.reject(new Error('no support parse JSON data'));\n    }\n  }, {\n    key: 'isJSON',\n    value: function isJSON(data) {\n      var first = void 0;\n      if (typeof data === 'string') {\n        first = data.charCodeAt(0);\n      } else if (data instanceof ArrayBuffer) {\n        first = new Uint8Array(data)[0];\n      }\n      return first === 123;\n    }\n  }, {\n    key: 'uncompress',\n    value: function uncompress(data) {\n      return Promise.resolve().then(function () {\n        var result = data;\n        if (typeof _snappyjsUncompress2.default !== 'function') throw new Error('no support snappy uncompress');\n        if (typeof data === 'string') {\n          result = (0, _util.stringToArrayBuffer)(result);\n          result = (0, _snappyjsUncompress2.default)(result);\n        } else {\n          result = (0, _snappyjsUncompress2.default)(result);\n        }\n        return result;\n      });\n    }\n  }]);\n\n  return DzhyunDataParser;\n}();\n\nmodule.exports = DzhyunDataParser;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/DzhyunDataParser.js\n// module id = 8\n// module chunks = 0 1","/* eslint-disable no-underscore-dangle */\n\nimport DzhyunConnection from 'dzhyun-connection';\nimport DzhyunDataParser from 'dzhyun-dataparser';\n\nimport { param, unParam } from './util';\n\nfunction formatParams(params) {\n  const result = {};\n  if (params) {\n    Object.keys(params).forEach((key) => {\n      let value = params[key];\n      if (value instanceof Array) {\n        value = value.join(',');\n      }\n      if (value != null) {\n        result[key] = value;\n      }\n    });\n  }\n  return param(result);\n}\n\nlet lastQid = 0;\nfunction getQid() {\n  return lastQid += 1; // eslint-disable-line\n}\n\n// 简易的事件监听接口实现\nclass EventEmiter {\n  _listenerMap = {};\n\n  /**\n   * 事件监听接口\n   */\n  on(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      if (listeners.indexOf(listener) < 0) {\n        listeners.push(listener);\n      }\n    }\n    return this;\n  }\n\n  off(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      const index = listeners.indexOf(listener);\n      if (index >= 0) listeners.splice(index, 1);\n    } else {\n      this._listenerMap[type] = [];\n    }\n    return this;\n  }\n\n  trigger(type, ...args) {\n    const listeners = this._listenerMap[type];\n    if (listeners) listeners.forEach(listener => listener.apply(this, args));\n    return this;\n  }\n\n  alias(type) {\n    if (type) {\n      this[`on${type}`] = this.on.bind(this, type);\n      this[`off${type}`] = this.off.bind(this, type);\n      if (!this[type]) this[type] = this.trigger.bind(this, type);\n    }\n  }\n}\n\nclass Request extends EventEmiter {\n  constructor(options) {\n    super();\n    Object.assign(this, options);\n    this.subscribe = !!(options.queryObject && options.queryObject.sub === 1);\n\n    this.alias('message');\n    this.alias('error');\n\n    this.onmessage(options.callback);\n    this.onerror(options.callback);\n  }\n\n  then(...args) {\n    return new Promise((resolve, reject) => {\n      this.onmessage(resolve);\n      this.onerror(reject);\n    }).then(...args);\n  }\n\n  catch(...args) {\n    return new Promise((resolve, reject) => {\n      this.onmessage(resolve);\n      this.onerror(reject);\n    }).catch(...args);\n  }\n}\n\nclass Dzhyun extends EventEmiter {\n  constructor({\n                address = 'ws://gw.yundzh.com/ws',\n                dataType = 'json',\n                compresser,\n                dataParser,\n                token,\n                generateQid,\n                secure,\n                ping = false,\n                pingInterval = 30 * 1000, // 30秒\n                reconnect = false,\n                reconnectInterval = 10 * 1000, // 10秒\n                post = false,\n              } = {}) {\n    super();\n    this.address = address;\n    this.dataType = dataType;\n    this.compresser = compresser;\n    this.dataParser = dataParser || new DzhyunDataParser({ compresser });\n    this.token = token;\n    this.generateQid = generateQid || getQid;\n    this.secure = secure;\n    this.ping = ping;\n    this.pingInterval = pingInterval;\n    this.reconnect = reconnect;\n    this.reconnectInterval = reconnectInterval;\n    this.post = post;\n\n    this._requests = {};\n    this._resetReconnectCount();\n\n    this.alias('open');\n    this.alias('close');\n    this.alias('request');\n    this.alias('response');\n    this.alias('error');\n  }\n\n  _tokenPromise() {\n    return Promise.resolve(this.token && this.token.getToken ? this.token.getToken() : this.token);\n  }\n\n  _connection() {\n    this._conn = this._conn || Promise.resolve().then(() => {\n      return this._tokenPromise()\n        .catch(err => console.warn('request token fail', err))\n        .then((token) => {\n          let lastTime;\n          const connection = new DzhyunConnection(this.address, { deferred: true, type: this.post ? 'POST' : 'GET' }, {\n            open: () => {\n              this.trigger('open');\n              this._resetReconnectCount();\n\n              // 通过发送/ping保持连接，默认每30秒发送一次\n              lastTime = Date.now();\n              if (this.ping) {\n                const pingInterval = this.pingInterval;\n                const ping = () => {\n                  setTimeout(() => {\n                    if (connection.getStatus() === 1) {\n                      // 多计算5秒避免刚好两次30秒超过了后台的1分钟ping/pong判断\n                      if ((Date.now() - lastTime) + (5 * 1000) >= pingInterval) {\n                        connection.request('/ping');\n                      }\n                      ping();\n                    }\n                  }, pingInterval);\n                };\n                ping();\n              }\n            },\n            request: (message) => {\n              lastTime = Date.now();\n              if (message !== '/ping') {\n                this.trigger('request', message);\n              }\n            },\n            response: (data) => {\n              lastTime = Date.now();\n              this.trigger('response', data);\n\n              // 解析数据\n              if (this.dataParser) {\n                Promise.resolve(this.dataParser.parse || this.dataParser).then((parse) => {\n                  parse.call(this.dataParser, data).then(({ Qid, Err, Counter, Data = {} }) => {\n                    if (!Qid) console.debug('Qid does not exist.');\n                    else {\n                      const request = this._requests[Qid];\n                      if (request) {\n                        if (Err !== 0) {\n                          // 服务端返回错误信息\n                          const { desc, code } = Data;\n                          const error = new Error(desc || 'unknown error');\n                          error.desc = desc;\n                          error.code = code;\n                          error.data = Data; // 将原始错误信息数据通过data属性暴露出去，使之可以处理复杂的嵌套错误\n                          request.error(error, Counter, code, desc);\n                        } else {\n                          let resultData = Data;\n                          // 简化数据结构\n                          if (request.shrinkData) {\n                            // 返回数据中RepData开头的字段数据\n                            resultData = resultData[\n                              Object.keys(resultData)\n                                .filter(key => ['Id', 'Obj'].indexOf(key) < 0)\n                                .sort(key1 => (key1.indexOf('RepData') === 0 ? -1 : 1))[0]\n                              ];\n                          }\n                          request.message(resultData, Counter);\n                        }\n                        if (!request.subscribe) {\n                          delete this._requests[Qid];\n                        }\n                      }\n                    }\n                  }).catch((err) => {\n                    // 解析数据失败\n                    console.error(err);\n                  });\n                });\n              }\n            },\n            close: () => {\n              this._conn = null;\n              this.trigger('close');\n              this._reconnect();\n            },\n            error: (err) => {\n              this._conn = null;\n              this.trigger('error', err);\n              this._reconnect();\n            },\n          }, this.secure);\n          const connectionType = connection._protocol;\n          if (token) {\n            if (connectionType === 'ws' && connection._address.indexOf('token=') < 0) {\n              connection._address = `${connection._address}?token=${token}`;\n            }\n          }\n          this._conn = connection;\n          // this._token = token;\n          this._connectionType = connectionType;\n          return this._conn;\n        });\n    });\n    return Promise.resolve(this._conn);\n  }\n\n  _reconnect() {\n    if (this.reconnect === true || this.reconnect > this._reconnectCount) {\n      if (this._reconnectTid) {\n        clearTimeout(this._reconnectTid);\n      }\n      // 并不直接重连而是直接将现在的数据请求重新执行\n      this._reconnectTid = setTimeout(() => {\n        const requests = this._requests;\n        Object.keys(this._requests).forEach(key => requests[key].start());\n        this._reconnectCount += 1;\n        this.trigger('reconnect');\n      }, this.reconnectInterval);\n    }\n  }\n\n  _resetReconnectCount() {\n    this._reconnectCount = 0;\n  }\n\n  /**\n   * 查询方法\n   * @param {!string} url 查询的url\n   * @param {Object=} params 参数\n   * @param {function=} callback 回调函数\n   * @param {boolean=} shrinkData 返回的数据是否简化结构，默认值是true\n   * @param {boolean=} immediate 是否立即请求数据，默认true，\n   *   设置为false时则不会立即请求而是返回request，可以手动调用request.start()去请求数据\n   */\n  query(url, params, callback, shrinkData, immediate) {\n    if (typeof url !== 'string') throw new Error('url must be a string');\n    if (typeof params !== 'object') {\n      immediate = shrinkData; // eslint-disable-line\n      shrinkData = callback; // eslint-disable-line\n      callback = params; // eslint-disable-line\n      params = null; // eslint-disable-line\n    }\n    if (typeof callback !== 'function') {\n      immediate = shrinkData; // eslint-disable-line\n      shrinkData = callback; // eslint-disable-line\n      callback = null; // eslint-disable-line\n    }\n    shrinkData = shrinkData !== false; // eslint-disable-line\n\n    const [serviceUrl, searchStr] = url.split('?');\n    const queryObject = Object.assign({\n      compresser: this.compresser || undefined,\n      output: this.dataType,\n    }, unParam(searchStr || ''), params);\n\n    let qid = queryObject.qid;\n    if (!qid) {\n      qid = this.generateQid(serviceUrl, queryObject);\n      queryObject.qid = qid;\n    }\n\n    const request = new Request({ qid, serviceUrl, queryObject, callback, shrinkData });\n    request.cancel = this.cancel.bind(this, qid);\n    request.start = () => {\n      const sid = (request._sid || 0) + 1; // 用于保证只有最后一次确实做请求\n      request._sid = sid;\n      this._requests[qid] = request;\n      let options;\n      this._connection().then((conn) => {\n        if (this._connectionType === 'http') {\n          options = queryObject.output === 'pb' ? { dataType: 'arraybuffer' } : undefined;\n          // 参数中带有token则不需要再生成\n          if (queryObject.token) {\n            return conn;\n          }\n          return this._tokenPromise().then((token) => {\n            queryObject.token = token;\n            return conn;\n          });\n        }\n        return conn;\n      }).then((conn) => {\n        // 被取消就不再请求\n        if (this._requests[qid] !== request || request._sid !== sid) {\n          return;\n        }\n        const requestParams = formatParams(queryObject);\n        let message;\n        const post = queryObject.post || this.post;\n        if (this._connectionType === 'http' && post === true) {\n          message = serviceUrl;\n          options = {\n            ...options,\n            type: 'POST',\n            data: requestParams,\n          };\n        } else {\n          message = requestParams ? `${serviceUrl}?${requestParams}` : serviceUrl;\n        }\n        conn.request(message, options);\n      });\n    };\n\n    // this._connection().then((conn) => {\n    //   // 请求已经取消则直接返回\n    //   if (!this._requests[request.qid]) return;\n    //   let options;\n    //   if (this._connectionType === 'http') {\n    //     queryObject.token = queryObject.token || this._token;\n    //     // 如果以http协议请求pb格式数据时，需设置额外参数以指定响应数据是二进制数据\n    //     options = { dataType: 'arraybuffer' };\n    //   }\n    //   const requestParams = formatParams(queryObject);\n    //   conn.request(requestParams ? `${serviceUrl}?${requestParams}` : serviceUrl, options);\n    // });\n    if (immediate !== false) {\n      request.start();\n    }\n    return request;\n  }\n\n  subscribe(url, params, callback, shrinkData, immediate) {\n    if (typeof params !== 'object') {\n      shrinkData = callback; // eslint-disable-line\n      callback = params; // eslint-disable-line\n      params = {}; // eslint-disable-line\n    }\n    params = params || {};  // eslint-disable-line\n    params.sub = 1;  // eslint-disable-line\n    return this.query(url, params, callback, shrinkData, immediate);\n  }\n\n  _cancelRequest(qid) {\n    if (this._connectionType === 'ws' && this._conn && this._conn.getStatus && this._conn.getStatus() === 1) {\n      this._conn.request(`/cancel?qid=${qid}`);\n    }\n  }\n\n  /**\n   * 取消查询\n   * @param {string=} qid\n   */\n  cancel(qid) {\n    if (qid) {\n      this._cancelRequest(qid);\n      delete this._requests[qid];\n    } else {\n      const requests = this._requests;\n      Object.keys(requests).forEach((eachQid) => {\n        this._cancelRequest(eachQid);\n        delete requests[eachQid];\n      });\n    }\n  }\n\n  // 关闭连接\n  close() {\n    // 取消当前请求，\n    this.cancel();\n    if (this._conn) this._conn.close();\n    this._conn = null;\n  }\n}\nDzhyun.Connection = DzhyunConnection;\nDzhyun.DataParser = DzhyunDataParser;\n\nmodule.exports = Dzhyun;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Dzhyun.js","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _BaseConnection2 = require('./BaseConnection');\n\nvar _BaseConnection3 = _interopRequireDefault(_BaseConnection2);\n\nvar _ajax = require('./ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HttpConnection = function (_BaseConnection) {\n  _inherits(HttpConnection, _BaseConnection);\n\n  function HttpConnection() {\n    var _ref;\n\n    _classCallCheck(this, HttpConnection);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // 用于记录当前未关闭的请求\n    var _this = _possibleConstructorReturn(this, (_ref = HttpConnection.__proto__ || Object.getPrototypeOf(HttpConnection)).call.apply(_ref, [this].concat(args)));\n\n    _this._request = [];\n    return _this;\n  }\n\n  _createClass(HttpConnection, [{\n    key: 'request',\n    value: function request(message, options) {\n      var _this2 = this;\n\n      var ajaxOptions = Object.assign({}, this.options, options);\n      var xhr = void 0;\n\n      ajaxOptions.success = function (data) {\n        _this2.trigger(_BaseConnection3.default.EVENT_MESSAGE, data);\n        _this2.trigger(_BaseConnection3.default.EVENT_RESPONSE, data);\n      };\n\n      ajaxOptions.error = function (jqXHR, textStatus, errorThrown) {\n        _this2.trigger(_BaseConnection3.default.EVENT_ERROR, errorThrown);\n      };\n\n      ajaxOptions.complete = function () {\n        var index = _this2._request.indexOf(xhr);\n        _this2._request.splice(index, 1);\n      };\n\n      ajaxOptions.url = this.getAddress() + (message || '');\n\n      xhr = (0, _ajax2.default)(ajaxOptions);\n\n      if (xhr) {\n        xhr.onreadystatechange = function (origFun) {\n          return function () {\n            if (xhr.readyState === 2) {\n\n              // 发出了请求\n              _this2.trigger(_BaseConnection3.default.EVENT_SEND, message);\n              _this2.trigger(_BaseConnection3.default.EVENT_REQUEST, message);\n            }\n            if (origFun) origFun();\n          };\n        }(xhr.onreadystatechange);\n      }\n\n      // 打开了连接\n      this.trigger(_BaseConnection3.default.EVENT_OPEN);\n\n      this._request.push(xhr);\n\n      xhr.onprogress = function (event) {\n        _this2.trigger(_BaseConnection3.default.EVENT_PROGRESS, event);\n      };\n\n      return this;\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this3 = this;\n\n      // 取消全部未结束的请求\n      this._request.forEach(function (xhr, index) {\n        xhr.abort();\n        _this3._request.splice(index, 1);\n      });\n\n      this.trigger(_BaseConnection3.default.EVENT_CLOSE);\n      return this;\n    }\n  }]);\n\n  return HttpConnection;\n}(_BaseConnection3.default);\n\n_BaseConnection3.default.http = function http(url, options, handler) {\n  return new HttpConnection(url, options, handler, false);\n};\n\n_BaseConnection3.default.https = function https(url, options, handler) {\n  return new HttpConnection(url, options, handler, true);\n};\n\nmodule.exports = _BaseConnection3.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/HttpConnection.js\n// module id = 10\n// module chunks = 0 1","'use strict';\n\n// 小程序环境中存在全局对象wx\nvar ws = {};\nif (typeof wx !== 'undefined') {\n  ws = require('./wxadapter/WebSocket.js');\n} else {\n  ws = require('ws');\n}\n\n// WebSocket依赖，node环境使用模块ws\nif (typeof window !== 'undefined') {\n  if (window.WebSocket) {\n    module.exports = window.WebSocket;\n  } else {\n    console.warn('当前浏览器不支持WebSocket');\n  }\n} else if (typeof WebSocket !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  module.exports = WebSocket;\n} else {\n  module.exports = ws;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/WebSocket.js\n// module id = 11\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _BaseConnection2 = require('./BaseConnection');\n\nvar _BaseConnection3 = _interopRequireDefault(_BaseConnection2);\n\nvar _WebSocket = require('./WebSocket');\n\nvar _WebSocket2 = _interopRequireDefault(_WebSocket);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar WebSocketConnection = function (_BaseConnection) {\n  _inherits(WebSocketConnection, _BaseConnection);\n\n  /**\n   * @param address\n   * @param {{deferred: boolean}} options\n   *  deferred: false 创建连接时马上连接websocket，默认\n   *            true  延时在第一次请求时连接websocket\n   * @param handler\n   * @param secure\n   */\n  function WebSocketConnection(address, options, handler, secure) {\n    _classCallCheck(this, WebSocketConnection);\n\n    var _this = _possibleConstructorReturn(this, (WebSocketConnection.__proto__ || Object.getPrototypeOf(WebSocketConnection)).call(this, address, options, handler, secure));\n\n    _this._protocol = 'ws';\n    _this._ws = null;\n\n    var deferred = options && options.deferred === true || false;\n\n    if (deferred === false) {\n      _this._connect();\n    }\n    // 在浏览器环境中，监听离线事件将手动中断ws连接\n    if (typeof window !== 'undefined') {\n      window.addEventListener('offline', function () {\n        return _this.close();\n      });\n    }\n    return _this;\n  }\n\n  _createClass(WebSocketConnection, [{\n    key: 'getStatus',\n    value: function getStatus() {\n      return this._ws ? this._ws.readyState : _WebSocket2.default.CLOSED;\n    }\n  }, {\n    key: '_connect',\n    value: function _connect() {\n      var _this2 = this;\n\n      // 连接创建websocket\n      if (typeof _WebSocket2.default !== 'undefined') {\n        this._ws = new _WebSocket2.default(this.getAddress());\n\n        // 避免WebSocket上没有状态静态值\n        if (_WebSocket2.default.OPEN === undefined) {\n          _WebSocket2.default.CONNECTING = this._ws.CONNECTING;\n          _WebSocket2.default.OPEN = this._ws.OPEN;\n          _WebSocket2.default.CLOSING = this._ws.CLOSING;\n          _WebSocket2.default.CLOSED = this._ws.CLOSED;\n        }\n        this._ws.binaryType = this.options.binaryType || this.options.dataType || 'arraybuffer';\n\n        this._ws.addEventListener('open', function () {\n          _this2.trigger(_BaseConnection3.default.EVENT_OPEN);\n        });\n        this._ws.addEventListener('error', function (err) {\n          _this2.trigger(_BaseConnection3.default.EVENT_ERROR, err);\n        });\n        this._ws.addEventListener('close', function () {\n          _this2.trigger(_BaseConnection3.default.EVENT_CLOSE);\n        });\n        this._ws.addEventListener('message', function (message) {\n          _this2.trigger(_BaseConnection3.default.EVENT_MESSAGE, message.data);\n          _this2.trigger(_BaseConnection3.default.EVENT_RESPONSE, message.data);\n        });\n      } else {\n        throw Error('Don\\'t support WebSocket');\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(message) {\n      var _this3 = this;\n\n      var msg = message || '';\n      if (this.getStatus() === _WebSocket2.default.CLOSED) {\n        this._connect();\n      }\n\n      if (this.getStatus() !== _WebSocket2.default.OPEN) {\n        this._ws.addEventListener('open', function () {\n          _this3._ws.send(msg);\n          _this3.trigger(_BaseConnection3.default.EVENT_SEND, msg);\n          _this3.trigger(_BaseConnection3.default.EVENT_REQUEST, msg);\n        });\n      } else {\n        this._ws.send(msg);\n        this.trigger(_BaseConnection3.default.EVENT_SEND, msg);\n        this.trigger(_BaseConnection3.default.EVENT_REQUEST, msg);\n      }\n      return this;\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (this.getStatus() !== _WebSocket2.default.CLOSED) {\n        this._ws.close();\n        this._ws = null;\n      }\n      return this;\n    }\n  }]);\n\n  return WebSocketConnection;\n}(_BaseConnection3.default);\n\n_BaseConnection3.default.ws = function ws(url, options, handler) {\n  return new WebSocketConnection(url, options, handler, false);\n};\n\n_BaseConnection3.default.wss = function wss(url, options, handler) {\n  return new WebSocketConnection(url, options, handler, true);\n};\n\nmodule.exports = _BaseConnection3.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/WebSocketConnection.js\n// module id = 12\n// module chunks = 0 1","'use strict';\n\n// 小程序环境中存在全局对象wx\nvar xhr2 = {};\nif (typeof wx !== 'undefined') {\n  xhr2 = require('./wxadapter/XmlHttpRequst.js');\n} else {\n  xhr2 = require('xhr2');\n}\n\n// 判断环境，浏览器环境存在window对象\nif (typeof window !== 'undefined') {\n\n  // 不考虑IE6以下的ActiveX方式\n  if (window.XMLHttpRequest) {\n    module.exports = window.XMLHttpRequest;\n  } else {\n    console.warn('当前浏览器不支持XMLHttpRequest');\n  }\n} else if (typeof XMLHttpRequest !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  module.exports = XMLHttpRequest;\n} else {\n\n  // nodejs中使用xhr2模块\n  module.exports = xhr2.XMLHttpRequest || xhr2;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/XMLHttpRequest.js\n// module id = 13\n// module chunks = 0 1","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /* eslint-disable */\n\n\nvar _XMLHttpRequest = require('./XMLHttpRequest');\n\nvar _XMLHttpRequest2 = _interopRequireDefault(_XMLHttpRequest);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * 模拟jquery的ajax接口\r\n */\n\n/**\r\n * 得到ArrayBuffer类型的响应数据\r\n * @param xhr\r\n * @returns {ArrayBuffer}\r\n */\nfunction getArrayBufferResponse(xhr) {\n  if (typeof ArrayBuffer === 'undefined') {\n    throw new Error('不支持ArrayBuffer类型');\n  } else if (xhr.response instanceof ArrayBuffer) {\n    return xhr.response;\n  } else {\n\n    var text = xhr.responseText;\n    var length = text.length;\n    var buf = new ArrayBuffer(length);\n    var bufView = new Uint8Array(buf);\n    for (var i = 0; i < length; i += 1) {\n\n      // \"& 0xff\"，表示在每个字符的两个字节之中，只保留后一个字节，将前一个字节扔掉。原因是浏览器解读字符的时候，会把字符自动解读成Unicode的0xF700-0xF7ff区段。\n      // http://www.ruanyifeng.com/blog/2012/09/xmlhttprequest_level_2.html\n      // eslint-disable-next-line no-bitwise\n      bufView[i] = text.charCodeAt(i) & 0xff;\n    }\n    return buf;\n  }\n}\n\n/**\r\n * 得到Blob类型的响应数据\r\n * @param xhr\r\n */\nfunction getBlobResponse(xhr) {\n  if (typeof Blob === 'undefined') {\n    throw new Error('不支持Blob类型');\n  } else if (xhr.response instanceof Blob) {\n    return xhr.response;\n  } else {\n    var buf = getArrayBufferResponse(xhr);\n\n    // TODO 未知类型\n    return new Blob([buf]);\n  }\n}\n\n// 修改自https://github.com/ForbesLindesay/ajax\nvar jsonpID = 0,\n    nodejs = typeof window === 'undefined',\n    document = !nodejs && window.document,\n    key,\n    name,\n    rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n    scriptTypeRE = /^(?:text|application)\\/javascript/i,\n    xmlTypeRE = /^(?:text|application)\\/xml/i,\n    jsonType = 'application/json',\n    htmlType = 'text/html',\n    blankRE = /^\\s*$/;\n\nvar ajax = module.exports = function (options) {\n  var settings = Object.assign({}, options || {});\n  for (key in ajax.settings) {\n    if (settings[key] === undefined) settings[key] = ajax.settings[key];\n  }ajaxStart(settings);\n\n  if (!settings.crossDomain) {\n    settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) && !nodejs && !!window.location && RegExp.$2 != window.location.host;\n  }\n\n  var dataType = settings.dataType,\n      hasPlaceholder = /=\\?/.test(settings.url);\n  if (dataType == 'jsonp' || hasPlaceholder) {\n    if (!hasPlaceholder) settings.url = appendQuery(settings.url, 'callback=?');\n    return ajax.JSONP(settings);\n  }\n\n  if (!settings.url) settings.url = !nodejs && !!window.location && window.location.toString();\n  serializeData(settings);\n\n  var mime = settings.accepts[dataType],\n      baseHeaders = {},\n      protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : !nodejs && !!window.location && window.location.protocol,\n      xhr = ajax.settings.xhr(),\n      abortTimeout;\n\n  if (!settings.crossDomain) baseHeaders['X-Requested-With'] = 'XMLHttpRequest';else if (typeof XDomainRequest !== 'undefined') {\n    xhr = new XDomainRequest();\n    xhr.onload = function () {\n      xhr.readyState = 4;\n      xhr.status = 200;\n      xhr.onreadystatechange();\n    };\n    xhr.error = function () {\n      xhr.readyState = 4;\n      xhr.status = 400;\n      xhr.onreadystatechange();\n    };\n  }\n  if (mime) {\n    baseHeaders['Accept'] = mime;\n    if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n    xhr.overrideMimeType && xhr.overrideMimeType(mime);\n  }\n  if (settings.contentType || settings.data && settings.type.toUpperCase() != 'GET') baseHeaders['Content-Type'] = settings.contentType || 'application/x-www-form-urlencoded';\n  settings.headers = Object.assign(baseHeaders, settings.headers || {});\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      clearTimeout(abortTimeout);\n      var result,\n          error = false;\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n        dataType = dataType || mimeToDataType(xhr.contentType || xhr.getResponseHeader && xhr.getResponseHeader('content-type'));\n\n        try {\n          if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(xhr.responseText) ? null : JSON.parse(xhr.responseText);else if (dataType === 'arraybuffer') result = getArrayBufferResponse(xhr);else if (dataType === 'blob') result = getBlobResponse(xhr);else result = xhr.responseText;\n        } catch (e) {\n          error = e;\n        }\n\n        if (error) ajaxError(error, 'parsererror', xhr, settings);else ajaxSuccess(result, xhr, settings);\n      } else {\n        ajaxError(null, 'error', xhr, settings);\n      }\n    }\n  };\n\n  var async = 'async' in settings ? settings.async : true;\n  xhr.open(settings.type, settings.url, async);\n\n  if (dataType == 'arraybuffer' || dataType == 'blob') {\n\n    // 因为IE的问题，只能将设置responseType的操作放在xhr.open之后\n    // https://connect.microsoft.com/IE/feedback/details/795580/ie11-xmlhttprequest-incorrectly-throws-invalidstateerror-when-setting-responsetype\n    // 判断是否支持设置responseType\n    var supported = typeof xhr.responseType === 'string';\n\n    // 支持二进制请求直接设置responseType\n    if (supported) {\n\n      // 响应类型默认arraybuffer，可以设置为blob（响应回来使用response取得数据）\n      xhr.responseType = options.dataType;\n    } else {\n\n      // 不支持则尝试使用用户自定义的字符集方式（响应回来使用responseText取得数据）\n      xhr.overrideMimeType ? xhr.overrideMimeType(\"text/plain; charset=x-user-defined\") : xhr.setRequestHeader('Accept-Charset', 'x-user-defined');\n    }\n  }\n\n  for (name in settings.headers) {\n    xhr.setRequestHeader(name, settings.headers[name]);\n  }if (ajaxBeforeSend(xhr, settings) === false) {\n    xhr.abort();\n    return false;\n  }\n\n  if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.onreadystatechange = empty;\n    xhr.abort();\n    ajaxError(null, 'timeout', xhr, settings);\n  }, settings.timeout);\n\n  // avoid sending empty string (#319)\n  xhr.send(settings.data ? settings.data : null);\n  return xhr;\n};\n\n// trigger a custom event and return false if it was cancelled\nfunction triggerAndReturn(context, eventName, data) {\n  //todo: Fire off some events\n  //var event = $.Event(eventName)\n  //$(context).trigger(event, data)\n  return true; //!event.defaultPrevented\n}\n\n// trigger an Ajax \"global\" event\nfunction triggerGlobal(settings, context, eventName, data) {\n  if (settings.global) return triggerAndReturn(context || document, eventName, data);\n}\n\n// Number of active Ajax requests\najax.active = 0;\n\nfunction ajaxStart(settings) {\n  if (settings.global && ajax.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n}\nfunction ajaxStop(settings) {\n  if (settings.global && ! --ajax.active) triggerGlobal(settings, null, 'ajaxStop');\n}\n\n// triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\nfunction ajaxBeforeSend(xhr, settings) {\n  var context = settings.context;\n  if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n\n  triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n}\nfunction ajaxSuccess(data, xhr, settings) {\n  var context = settings.context,\n      status = 'success';\n  settings.success.call(context, data, status, xhr);\n  triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n  ajaxComplete(status, xhr, settings);\n}\n// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\nfunction ajaxError(error, type, xhr, settings) {\n  var context = settings.context;\n  settings.error.call(context, xhr, type, error);\n  triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error]);\n  ajaxComplete(type, xhr, settings);\n}\n// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\nfunction ajaxComplete(status, xhr, settings) {\n  var context = settings.context;\n  settings.complete.call(context, xhr, status);\n  triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n  ajaxStop(settings);\n}\n\n// Empty function, used as default callback\nfunction empty() {}\n\najax.JSONP = function (options) {\n  if (!('type' in options)) return ajax(options);\n\n  var callbackName = 'jsonp' + ++jsonpID,\n      script = document.createElement('script'),\n      abort = function abort() {\n    //todo: remove script\n    //$(script).remove()\n    if (!nodejs && callbackName in window) window[callbackName] = empty;\n    ajaxComplete('abort', xhr, options);\n  },\n      xhr = { abort: abort },\n      abortTimeout,\n      head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n  if (options.error) script.onerror = function () {\n    xhr.abort();\n    options.error();\n  };\n\n  if (!nodejs) window[callbackName] = function (data) {\n    clearTimeout(abortTimeout);\n    //todo: remove script\n    //$(script).remove()\n    delete window[callbackName];\n    ajaxSuccess(data, xhr, options);\n  };\n\n  serializeData(options);\n  script.src = options.url.replace(/=\\?/, '=' + callbackName);\n\n  // Use insertBefore instead of appendChild to circumvent an IE6 bug.\n  // This arises when a base node is used (see jQuery bugs #2709 and #4378).\n  head.insertBefore(script, head.firstChild);\n\n  if (options.timeout > 0) abortTimeout = setTimeout(function () {\n    xhr.abort();\n    ajaxComplete('timeout', xhr, options);\n  }, options.timeout);\n\n  return xhr;\n};\n\najax.settings = {\n  // Default type of request\n  type: 'GET',\n  // Callback that is executed before request\n  beforeSend: empty,\n  // Callback that is executed if the request succeeds\n  success: empty,\n  // Callback that is executed the the server drops error\n  error: empty,\n  // Callback that is executed on request complete (both: error and success)\n  complete: empty,\n  // The context for the callbacks\n  context: null,\n  // Whether to trigger \"global\" Ajax events\n  global: true,\n  // Transport\n  xhr: function xhr() {\n    return new _XMLHttpRequest2.default();\n  },\n  // MIME types mapping\n  accepts: {\n    script: 'text/javascript, application/javascript',\n    json: jsonType,\n    xml: 'application/xml, text/xml',\n    html: htmlType,\n    text: 'text/plain'\n  },\n  // Whether the request is to another domain\n  crossDomain: false,\n  // Default timeout\n  timeout: 0\n};\n\nfunction mimeToDataType(mime) {\n  return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n}\n\nfunction appendQuery(url, query) {\n  return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n}\n\n// serialize payload and append it to the URL for GET requests\nfunction serializeData(options) {\n  if (_typeof(options.data) === 'object') options.data = (0, _util.param)(options.data);\n  if (options.data && (!options.type || options.type.toUpperCase() == 'GET')) options.url = appendQuery(options.url, options.data);\n}\n\najax.get = function (url, success) {\n  return ajax({ url: url, success: success });\n};\n\najax.post = function (url, data, success, dataType) {\n  if (typeof data === 'function') dataType = dataType || success, success = data, data = null;\n  return ajax({ type: 'POST', url: url, data: data, success: success, dataType: dataType });\n};\n\najax.getJSON = function (url, success) {\n  return ajax({ url: url, success: success, dataType: 'json' });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/ajax.js\n// module id = 14\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n *  https://www.w3.org/TR/2011/WD-websockets-20110419/\r\n */\n// https://github.com/stackOverMind/WeApp-adapter/blob/master/src/WebSocket.js\nvar EventTarget = require('event-target');\nvar URL = require('url');\n\nvar WebSocket = function () {\n  function WebSocket(url) {\n    var _this = this;\n\n    _classCallCheck(this, WebSocket);\n\n    if (url == null) {\n      throw new TypeError('1 argument needed');\n    }\n    try {\n      var parsed = URL.parse(url);\n      if (parsed.protocol != 'wss:') {\n        throw new Error('protocol must be wss');\n      }\n    } catch (e) {\n      throw new SyntaxError('url in wrong format,protocol must be wss');\n    }\n    //根据微信小程序API介绍 websocket是单例的\n    if (WebSocket.instance != null) {\n      WebSocket.instance.close(); //安全的关闭\n    }\n    WebSocket.instance = this;\n    this.url = url;\n    this.readyState = 0;\n    this.onopen = null;\n    this.onclose = null;\n    this.onerror = null;\n    this.onmessage = null;\n    wx.connectSocket({\n      url: url //API介绍比较模糊\n    });\n    wx.onSocketOpen(function () {\n      _this.readyState = WebSocket.OPEN;\n      if (_this.onopen) {\n        _this.onopen.call(_this);\n      }\n      _this.dispatchEvent({ 'type': 'open' });\n    });\n    wx.onSocketError(function (e) {\n      var event = { 'type': 'error', 'data': e };\n      if (_this.onerror) {\n        _this.onerror.call(_this, event);\n      }\n      _this.dispatchEvent(event);\n    });\n    wx.onSocketMessage(function (data) {\n\n      if (_this.readyState !== WebSocket.OPEN && _this.readyState !== WebSocket.CLOSING) {\n        return;\n      }\n      /* webmessage https://www.w3.org/TR/2010/WD-webmessaging-20101118/  */\n      var event = { 'type': 'message', 'data': data.data //TODO origin ...\n      };if (_this.onmessage) {\n        _this.onmessage.call(_this, event);\n      }\n      _this.dispatchEvent(event);\n    });\n    wx.onSocketClose(function () {\n      _this.readyState = WebSocket.CLOSED;\n      if (_this.onclose) {\n        var event = { 'type': 'close', 'wasClean': true, code: 0, reason: '' };\n        _this.onclose.call(_this, event);\n      }\n    });\n  }\n\n  _createClass(WebSocket, [{\n    key: 'close',\n    value: function close() {\n      wx.closeSocket();\n    }\n  }, {\n    key: 'send',\n    value: function send(data) {\n      wx.sendSocketMessage({ data: data });\n    }\n  }]);\n\n  return WebSocket;\n}();\n\nWebSocket.prototype.addEventListener = EventTarget.default.prototype.addEventListener;\nWebSocket.prototype.removeEventListener = EventTarget.default.prototype.removeEventListener;\nWebSocket.prototype.dispatchEvent = EventTarget.default.prototype.dispatchEvent;\n\nWebSocket.CONNECTING = 0;\nWebSocket.OPEN = 1;\nWebSocket.CLOSING = 2;\nWebSocket.CLOSED = 3;\nWebSocket.instance = null;\nmodule.exports = WebSocket;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/wxadapter/WebSocket.js\n// module id = 15\n// module chunks = 0 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//https://github.com/stackOverMind/WeApp-adapter/blob/master/src/XmlHttpRequst.js\nvar EventTarget = require('event-target');\nvar URL = require('url');\n\nvar XMLHttpRequestResponseTypes = [\"\", \"arraybuffer\", \"blob\", \"document\", \"json\", \"text\"];\n\nvar XmlHttpRequest = function () {\n    function XmlHttpRequest() {\n        _classCallCheck(this, XmlHttpRequest);\n\n        this.onloadstart = null;\n        this.onprogress = null;\n        this.onabort = null;\n        this.onerror = null;\n        this.onload = null;\n        this.ontimeout = null;\n        this.onloadend = null;\n        this.onreadystatechange = null;\n        this._readystate = 0;\n    }\n\n    _createClass(XmlHttpRequest, [{\n        key: 'open',\n        value: function open() {}\n    }, {\n        key: 'send',\n        value: function send() {}\n    }, {\n        key: 'abort',\n        value: function abort() {}\n    }, {\n        key: 'getResponseHeader',\n        value: function getResponseHeader() {}\n    }, {\n        key: 'getAllResponseHeaders',\n        value: function getAllResponseHeaders() {}\n    }, {\n        key: 'overrideMimeType',\n        value: function overrideMimeType() {}\n    }, {\n        key: 'readystate',\n        get: function get() {\n            return this._readystate;\n        }\n    }, {\n        key: 'status',\n        get: function get() {}\n    }, {\n        key: 'statusText',\n        get: function get() {}\n    }, {\n        key: 'response',\n        get: function get() {}\n    }, {\n        key: 'responseText',\n        get: function get() {}\n    }, {\n        key: 'responseXML',\n        get: function get() {}\n    }]);\n\n    return XmlHttpRequest;\n}();\n\nXmlHttpRequest.UNSENT = 0;\nXmlHttpRequest.OPENED = 1;\nXmlHttpRequest.HEADERS_RECEIVED = 2;\nXmlHttpRequest.LOADING = 3;\nXmlHttpRequest.DONE = 4;\n\nmodule.exports = XmlHttpRequest;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-connection/lib/wxadapter/XmlHttpRequst.js\n// module id = 16\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseJSON;\n\nvar _util = require('./util');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction convertToJsonArray(input) {\n  if (!input || !input.head) return input;\n\n  var head = input.head;\n  var data = input.data;\n\n  return data.map(function (row) {\n    var rowObject = {};\n    row.forEach(function (cell, columnIndex) {\n      rowObject[head[columnIndex]] = convertToJsonArray(cell);\n    });\n    return rowObject;\n  });\n}\n\nfunction parseJSON(input) {\n  return Promise.resolve().then(function () {\n    var json = typeof ArrayBuffer !== 'undefined' && input instanceof ArrayBuffer ? (0, _util.arrayBufferToString)(input) : input;\n    var response = JSON.parse(json);\n    if (response.Err !== 0) {\n      return response;\n    }\n\n    var data = response.Data;\n    if (data.JsonTbl) {\n      var tbl = convertToJsonArray(data.JsonTbl);\n      var key = Object.keys(tbl[0])[0];\n      var value = tbl[0][key];\n      data = _defineProperty({\n        Id: data.Id\n      }, key, value);\n    }\n\n    return {\n      Qid: response.Qid,\n      Err: response.Err,\n      Counter: response.Counter,\n      Data: data\n    };\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/parseJSON.js\n// module id = 17\n// module chunks = 0 1","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = uncompress;\n\nvar _snappy_decompressor = require('snappyjs/snappy_decompressor');\n\nfunction uncompress(compressed) {\n  if (!(compressed instanceof ArrayBuffer)) {\n    throw new TypeError('Argument compressed must be type of ArrayBuffer');\n  }\n\n  var decompressor = new _snappy_decompressor.SnappyDecompressor(new Uint8Array(compressed));\n  var length = decompressor.readUncompressedLength();\n  if (length === -1) {\n    throw new Error('Invalid Snappy bitstream');\n  }\n  var uncompressed = new ArrayBuffer(length);\n  var uncompressedView = new Uint8Array(uncompressed);\n  if (!decompressor.uncompressToBuffer(uncompressedView)) {\n    throw new Error('Invalid Snappy bitstream');\n  }\n  return uncompressed;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/snappyjs-uncompress.js\n// module id = 18\n// module chunks = 0 1","// empty (null-loader)\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dzhyun-dataparser/lib/parseProtoBuf.js\n// module id = 19\n// module chunks = 0 1","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/punycode/punycode.js\n// module id = 20\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring-es3/decode.js\n// module id = 21\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring-es3/encode.js\n// module id = 22\n// module chunks = 0 1","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring-es3/index.js\n// module id = 23\n// module chunks = 0 1","// The MIT License (MIT)\n//\n// Copyright (c) 2016 Zhipeng Jia\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n'use strict'\n\nvar WORD_MASK = [0, 0xff, 0xffff, 0xffffff, 0xffffffff]\n\nfunction copyBytes (from_array, from_pos, to_array, to_pos, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    to_array[to_pos + i] = from_array[from_pos + i]\n  }\n}\n\nfunction selfCopyBytes (array, pos, offset, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    array[pos + i] = array[pos - offset + i]\n  }\n}\n\nfunction SnappyDecompressor (compressed) {\n  this.array = compressed\n  this.pos = 0\n}\n\nSnappyDecompressor.prototype.readUncompressedLength = function () {\n  var result = 0\n  var shift = 0\n  var c, val\n  while (shift < 32 && this.pos < this.array.length) {\n    c = this.array[this.pos]\n    this.pos += 1\n    val = c & 0x7f\n    if (((val << shift) >>> shift) !== val) {\n      return -1\n    }\n    result |= val << shift\n    if (c < 128) {\n      return result\n    }\n    shift += 7\n  }\n  return -1\n}\n\nSnappyDecompressor.prototype.uncompressToBuffer = function (out_buffer) {\n  var array = this.array\n  var array_length = array.length\n  var pos = this.pos\n  var out_pos = 0\n\n  var c, len, small_len\n  var offset\n\n  while (pos < array.length) {\n    c = array[pos]\n    pos += 1\n    if ((c & 0x3) === 0) {\n      // Literal\n      len = (c >>> 2) + 1\n      if (len > 60) {\n        if (pos + 3 >= array_length) {\n          return false\n        }\n        small_len = len - 60\n        len = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n        len = (len & WORD_MASK[small_len]) + 1\n        pos += small_len\n      }\n      if (pos + len > array_length) {\n        return false\n      }\n      copyBytes(array, pos, out_buffer, out_pos, len)\n      pos += len\n      out_pos += len\n    } else {\n      switch (c & 0x3) {\n        case 1:\n          len = ((c >>> 2) & 0x7) + 4\n          offset = array[pos] + ((c >>> 5) << 8)\n          pos += 1\n          break\n        case 2:\n          if (pos + 1 >= array_length) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8)\n          pos += 2\n          break\n        case 3:\n          if (pos + 3 >= array_length) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n          pos += 4\n          break\n        default:\n          break\n      }\n      if (offset === 0 || offset > out_pos) {\n        return false\n      }\n      selfCopyBytes(out_buffer, out_pos, offset, len)\n      out_pos += len\n    }\n  }\n  return true\n}\n\nexports.SnappyDecompressor = SnappyDecompressor\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/snappyjs/snappy_decompressor.js\n// module id = 24\n// module chunks = 0 1","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/url/util.js\n// module id = 25\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 26\n// module chunks = 0 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 27\n// module chunks = 0 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// xhr2 (ignored)\n// module id = 28\n// module chunks = 0 1"],"sourceRoot":""}